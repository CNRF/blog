## java基础

### java的基本类型

| 类型        | 位数 | 字节 | 默认值      | 最小值                        | 最大值                       |
|-----------|----|----|----------|----------------------------|---------------------------|
| `byte`    | 8  | 1  | `0`      | -128                       | 127                       |
| `short`   | 16 | 2  | `0`      | -32,768                    | 32,767                    |
| `int`     | 32 | 4  | `0`      | -2,147,483,648             | 2,147,483,647             |
| `long`    | 64 | 8  | `0L`     | -9,223,372,036,854,775,808 | 9,223,372,036,854,775,807 |
| `float`   | 32 | 4  | `0.0f`   | ~1.4E-45                   | ~3.4028235E+38            |
| `double`  | 64 | 8  | `0.0d`   | ~4.9E-324                  | ~1.7976931348623157E+308  |
| `char`    | 16 | 2  | `\u0000` | 0                          | 65,535                    |
| `boolean` | —  | ~1 | `false`  | `false`                    | `true`                    |

> `boolean` 实际占用内存不明确，由 JVM 实现决定。通常用 1 个字节来存储（虽然理论上 1 bit 足够）。
>
> `char` 是无符号的，使用 Unicode 编码（UTF-16），值为 `\u0000` 到 `\uffff`。
>
> 浮点类型遵循 IEEE 754 标准。

### 重载和重写的区别

| 对比项    | 重载（Overload）        | 重写（Override）                   |
|--------|---------------------|--------------------------------|
| 位置     | **同一个类中**           | **子类中覆盖父类的方法**                 |
| 方法名    | ✅ 相同                | ✅ 相同                           |
| 参数列表   | ❗**必须不同**（类型或数量或顺序） | ❗**必须完全一致**                    |
| 返回类型   | ✅ 可以不同（但最好统一）       | ✅ 必须相同（JDK 5 之前）或是其子类（协变返回类型）  |
| 访问修饰符  | ✅ 没有限制              | ✅ 子类方法访问权限必须 ≥ 父类方法            |
| 异常抛出   | ✅ 可以不同              | ❗子类方法抛出的异常 ≤ 父类（更窄，不能更广）       |
| 静态/非静态 | ✅ 都可以重载             | ❗只能重写实例方法，**不能**重写 `static` 方法 |
| 多态性    | ❌ 不支持               | ✅ 支持运行时多态                      |
| 编译时决定  | ✅ 编译时根据参数匹配         | ❌ 运行时通过对象类型决定                  |
| 注解推荐   | 不需要注解               | 推荐加 `@Override` 注解             |

### 包装类型的缓存机制

| 类型          | 缓存范围              | 是否可自定义范围？    |
|-------------|-------------------|--------------|
| `Byte`      | `[-128, 127]`     | ❌ 不可自定义      |
| `Short`     | `[-128, 127]`     | ❌ 不可自定义      |
| `Integer`   | `[-128, 127]`（默认） | ✅ 可通过 JVM 参数 |
| `Long`      | `[-128, 127]`     | ✅ 可通过 JVM 参数 |
| `Character` | `[0, 127]`（ASCII） | ❌ 不可自定义      |
| `Boolean`   | `true/false`      | 不需要缓存，只有两个   |

```Java
public class CacheTest {
    public static void main(String[] args) {
        Integer a = 100;
        Integer b = 100;
        Integer c = 200;
        Integer d = 200;

        System.out.println(a == b); // true ✅ 缓存范围内
        System.out.println(c == d); // false ❌ 超出范围
    }
}

```

### String，StringBuilder，StringBuffer的区别

| 特性      | `String`（不可变）        | `StringBuilder`（可变，非线程安全） | `StringBuffer`（可变，线程安全） |
|---------|----------------------|---------------------------|-------------------------|
| 是否可变    | ❌ 不可变                | ✅ 可变                      | ✅ 可变                    |
| 线程安全性   | ✅ 安全（不可变天生安全）        | ❌ 非线程安全                   | ✅ 线程安全（方法加锁）            |
| 性能（单线程） | 🚫 最差                | ✅ 最优                      | ⏳ 次优                    |
| 性能（多线程） | ✅ 安全但慢               | ❌ 有并发风险                   | ✅ 较安全，适合并发              |
| 使用场景    | 少量字符串处理，常量操作         | 单线程拼接大量字符串                | 多线程环境中字符串处理             |
| 实现机制    | `final char[] value` | `char[] value`            | `char[] value`          |
| Java 版本 | JDK 1.0              | JDK 1.5+                  | JDK 1.0                 |

### ==和equal()区别

| 比较项   | `==`                         | `.equals()`                     |
|-------|------------------------------|---------------------------------|
| 本质    | 比较**内存地址（引用是否相同）**           | 比较**对象的内容是否相同**                 |
| 适用类型  | 基本类型 & 引用类型                  | 引用类型（如 String、Integer、List 等）   |
| 是否可重写 | ❌ 不能                         | ✅ 可以（`Object` 提供默认实现，可被重写）      |
| 默认行为  | 对于引用类型比较地址（除非重写 `.equals()`） | 同 `==`，除非该类自己重写了 `.equals()` 方法 |
| 常见用途  | 基本类型判断、引用比较、是否是同一个对象         | 比较值是否一致，比如两个字符串是否内容一样           |

#### 基本类型 vs 引用类型

```java
public static void main(String[] args) {
    // 基本类型比较
    int a = 10;
    int b = 10;
    System.out.println(a == b); // true ✅ 值比较，基本类型

    // 引用类型比较
    Integer x = new Integer(10);
    Integer y = new Integer(10);
    System.out.println(x == y);      // false ❌ 地址不同
    System.out.println(x.equals(y)); // true ✅ 值相同
}
```

#### String 对象

```java
public static void main(String[] args) {
    String s1 = "hello";
    String s2 = "hello";
    String s3 = new String("hello");

    System.out.println(s1 == s2);      // true ✅ 指向常量池同一地址
    System.out.println(s1 == s3);      // false ❌ new 出来的地址不同
    System.out.println(s1.equals(s3)); // true ✅ 内容一样 
}


```

### Object类的常见方法

| 方法签名                                  | 作用                        | 是否常被重写  | 典型用途                |
| ------------------------------------- | ------------------------- | ------- | ------------------- |
| `equals(Object obj)`                  | 比较对象“内容”是否相等              | ✅ 常重写   | 比较逻辑                |
| `hashCode()`                          | 返回哈希码（用于散列表结构）            | ✅ 常重写   | `HashMap`、`HashSet` |
| `toString()`                          | 返回对象的字符串表示                | ✅ 常重写   | 打印调试                |
| `getClass()`                          | 获取对象的运行时类信息               | ❌ 不可重写  | 反射                  |
| `clone()`                             | 对象克隆（浅拷贝）                 | ✅ 有时重写  | 对象复制                |
| `finalize()`                          | 垃圾回收前调用（已废弃）              | ❌ 不推荐使用 | GC 清理               |
| `wait()` / `notify()` / `notifyAll()` | 多线程通信用（配合 `synchronized`） | ❌ 不重写   | 线程同步                |
| `equals()` 与 `hashCode()` 套路          | **必须成对重写**，否则集合中表现异常      | ✅       | 必须同步重写              |
| `Object o = new Object();`            | 万物之源                      | ❌       | 父类引用                |



