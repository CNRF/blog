<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>星的路</title>
    <meta name="description" content="笔记">
    <meta name="generator" content="VitePress v1.0.1">
    <link rel="preload stylesheet" href="/blog/assets/style.CV48UFBi.css" as="style">
    
    <script type="module" src="/blog/assets/app.DCQsZRoA.js"></script>
    <link rel="preload" href="/blog/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/blog/assets/chunks/theme.DLlGTLp2.js">
    <link rel="modulepreload" href="/blog/assets/chunks/framework.m76fjHMv.js">
    <link rel="modulepreload" href="/blog/assets/database_01.mysql_06.MySQL优化分析思路.md.CVTNuxlH.lean.js">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="msapplication-TileImage" content="/blog/favicon.ico">
    <meta name="baidu-site-verification" content="codeva-Whjnr38WFE">
    <link rel="apple-touch-icon" href="/blog/favicon.ico">
    <link rel="icon" href="/blog/favicon.ico">
    <link rel="mask-icon" href="/blog/favicon.ico" color="#3eaf7c">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-3f1986f5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-8e9465bd></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-8e9465bd> Skip to content </a><!--]--><!----><header class="VPNav" data-v-3f1986f5 data-v-2cfecfaa><div class="VPNavBar" data-v-2cfecfaa data-v-e2087042><div class="wrapper" data-v-e2087042><div class="container" data-v-e2087042><div class="title" data-v-e2087042><div class="VPNavBarTitle has-sidebar" data-v-e2087042 data-v-13d3792d><a class="title" href="/blog/" data-v-13d3792d><!--[--><!--]--><!--[--><img class="VPImage logo" src="/blog/logo.png" alt data-v-478f872d><!--]--><span data-v-13d3792d>星的路</span><!--[--><!--]--></a></div></div><div class="content" data-v-e2087042><div class="content-body" data-v-e2087042><!--[--><!--]--><div class="VPNavBarSearch search" data-v-e2087042><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-e2087042 data-v-10acc993><span id="main-nav-aria-label" class="visually-hidden" data-v-10acc993>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/interview/%E9%9D%A2%E8%AF%95" tabindex="0" data-v-10acc993 data-v-2727ea0b><!--[--><span data-v-2727ea0b>面试</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-10acc993 data-v-0a1ef0c9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-0a1ef0c9><span class="text" data-v-0a1ef0c9><!----><span data-v-0a1ef0c9>后端</span><span class="vpi-chevron-down text-icon" data-v-0a1ef0c9></span></span></button><div class="menu" data-v-0a1ef0c9><div class="VPMenu" data-v-0a1ef0c9 data-v-49b3ffeb><div class="items" data-v-49b3ffeb><!--[--><!--[--><div class="VPMenuGroup" data-v-49b3ffeb data-v-b51a65ed><p class="title" data-v-b51a65ed>java</p><!--[--><!--[--><div class="VPMenuLink" data-v-b51a65ed data-v-1bdcac6b><a class="VPLink link" href="/blog/java/01.java%E5%9F%BA%E7%A1%80/01.%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86" data-v-1bdcac6b><!--[-->java基础<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b51a65ed data-v-1bdcac6b><a class="VPLink link" href="/blog/java/02.%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%92%8C%E9%AB%98%E5%B9%B6%E5%8F%91/01.%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80" data-v-1bdcac6b><!--[-->多线程和高并发<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b51a65ed data-v-1bdcac6b><a class="VPLink link" href="/blog/java/03.JDK%E9%9B%86%E5%90%88%E6%BA%90%E7%A0%81/01.Collection%E7%B1%BB%E5%85%B3%E7%B3%BB%E5%9B%BE" data-v-1bdcac6b><!--[-->JDK集合源码<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b51a65ed data-v-1bdcac6b><a class="VPLink link" href="/blog/java/04.JVM/01.JVM%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB%E8%AF%A6%E8%A7%A3" data-v-1bdcac6b><!--[-->JVM<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b51a65ed data-v-1bdcac6b><a class="VPLink link" href="/blog/java/05.spring/01.%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91" data-v-1bdcac6b><!--[-->spring<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-10acc993 data-v-0a1ef0c9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-0a1ef0c9><span class="text" data-v-0a1ef0c9><!----><span data-v-0a1ef0c9>前端</span><span class="vpi-chevron-down text-icon" data-v-0a1ef0c9></span></span></button><div class="menu" data-v-0a1ef0c9><div class="VPMenu" data-v-0a1ef0c9 data-v-49b3ffeb><div class="items" data-v-49b3ffeb><!--[--><!--[--><div class="VPMenuGroup" data-v-49b3ffeb data-v-b51a65ed><p class="title" data-v-b51a65ed>基础</p><!--[--><!--[--><div class="VPMenuLink" data-v-b51a65ed data-v-1bdcac6b><a class="VPLink link" href="/blog/web/01.html/01.HTML%E6%A0%87%E7%AD%BE-%E6%8E%92%E5%BA%8F%E6%A0%87%E7%AD%BE" data-v-1bdcac6b><!--[-->HTML<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b51a65ed data-v-1bdcac6b><a class="VPLink link" href="/blog/web/02.css/01.CSS%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86" data-v-1bdcac6b><!--[-->CSS<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b51a65ed data-v-1bdcac6b><a class="VPLink link" href="/blog/web/03.javascript/01.js%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95" data-v-1bdcac6b><!--[-->JavaScript<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b51a65ed data-v-1bdcac6b><a class="VPLink link" href="/blog/web/04.ES6/01.let%E5%92%8Cconst" data-v-1bdcac6b><!--[-->ES6<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-49b3ffeb data-v-b51a65ed><p class="title" data-v-b51a65ed>vue</p><!--[--><!--[--><div class="VPMenuLink" data-v-b51a65ed data-v-1bdcac6b><a class="VPLink link" href="/blog/vue/01.%E5%9F%BA%E7%A1%80/01.MVVM%E6%A8%A1%E5%BC%8F" data-v-1bdcac6b><!--[-->基础<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-10acc993 data-v-0a1ef0c9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-0a1ef0c9><span class="text" data-v-0a1ef0c9><!----><span data-v-0a1ef0c9>数据库</span><span class="vpi-chevron-down text-icon" data-v-0a1ef0c9></span></span></button><div class="menu" data-v-0a1ef0c9><div class="VPMenu" data-v-0a1ef0c9 data-v-49b3ffeb><div class="items" data-v-49b3ffeb><!--[--><!--[--><div class="VPMenuLink" data-v-49b3ffeb data-v-1bdcac6b><a class="VPLink link" href="/blog/database/01.mysql/01.MySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%B8%E8%BD%BD" data-v-1bdcac6b><!--[-->MySQL<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/algorithm/0001.%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F" tabindex="0" data-v-10acc993 data-v-2727ea0b><!--[--><span data-v-2727ea0b>算法</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-10acc993 data-v-0a1ef0c9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-0a1ef0c9><span class="text" data-v-0a1ef0c9><!----><span data-v-0a1ef0c9>系统相关</span><span class="vpi-chevron-down text-icon" data-v-0a1ef0c9></span></span></button><div class="menu" data-v-0a1ef0c9><div class="VPMenu" data-v-0a1ef0c9 data-v-49b3ffeb><div class="items" data-v-49b3ffeb><!--[--><!--[--><div class="VPMenuLink" data-v-49b3ffeb data-v-1bdcac6b><a class="VPLink link" href="/blog/windows/01.windows%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8" data-v-1bdcac6b><!--[-->windows<!--]--></a></div><!--]--><!--[--><div class="VPMenuGroup" data-v-49b3ffeb data-v-b51a65ed><p class="title" data-v-b51a65ed>linux</p><!--[--><!--[--><div class="VPMenuLink" data-v-b51a65ed data-v-1bdcac6b><a class="VPLink link" href="/blog/linux/01.corn/01.corn%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8" data-v-1bdcac6b><!--[-->corn<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b51a65ed data-v-1bdcac6b><a class="VPLink link" href="/blog/linux/02.docker/01.docker%E5%AE%89%E8%A3%85" data-v-1bdcac6b><!--[-->docker<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-10acc993 data-v-0a1ef0c9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-0a1ef0c9><span class="text" data-v-0a1ef0c9><!----><span data-v-0a1ef0c9>workflow</span><span class="vpi-chevron-down text-icon" data-v-0a1ef0c9></span></span></button><div class="menu" data-v-0a1ef0c9><div class="VPMenu" data-v-0a1ef0c9 data-v-49b3ffeb><div class="items" data-v-49b3ffeb><!--[--><!--[--><div class="VPMenuLink" data-v-49b3ffeb data-v-1bdcac6b><a class="VPLink link" href="/blog/workflow/01.git/01.git%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C" data-v-1bdcac6b><!--[-->git<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/designPatterns/01.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%88%86%E7%B1%BB" tabindex="0" data-v-10acc993 data-v-2727ea0b><!--[--><span data-v-2727ea0b>设计模式</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/nav" tabindex="0" data-v-10acc993 data-v-2727ea0b><!--[--><span data-v-2727ea0b>实用网站</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-e2087042 data-v-d7059ce5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d7059ce5 data-v-42bb914b data-v-6a212700><span class="check" data-v-6a212700><span class="icon" data-v-6a212700><!--[--><span class="vpi-sun sun" data-v-42bb914b></span><span class="vpi-moon moon" data-v-42bb914b></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-e2087042 data-v-fe91e215 data-v-fb592258><!--[--><a class="VPSocialLink no-icon" href="https://github.com/CNRF" aria-label="github" target="_blank" rel="noopener" data-v-fb592258 data-v-6754591a><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-e2087042 data-v-d5806f8c data-v-0a1ef0c9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-0a1ef0c9><span class="vpi-more-horizontal icon" data-v-0a1ef0c9></span></button><div class="menu" data-v-0a1ef0c9><div class="VPMenu" data-v-0a1ef0c9 data-v-49b3ffeb><!----><!--[--><!--[--><!----><div class="group" data-v-d5806f8c><div class="item appearance" data-v-d5806f8c><p class="label" data-v-d5806f8c>主题</p><div class="appearance-action" data-v-d5806f8c><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d5806f8c data-v-42bb914b data-v-6a212700><span class="check" data-v-6a212700><span class="icon" data-v-6a212700><!--[--><span class="vpi-sun sun" data-v-42bb914b></span><span class="vpi-moon moon" data-v-42bb914b></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d5806f8c><div class="item social-links" data-v-d5806f8c><div class="VPSocialLinks social-links-list" data-v-d5806f8c data-v-fb592258><!--[--><a class="VPSocialLink no-icon" href="https://github.com/CNRF" aria-label="github" target="_blank" rel="noopener" data-v-fb592258 data-v-6754591a><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-e2087042 data-v-f45ea453><span class="container" data-v-f45ea453><span class="top" data-v-f45ea453></span><span class="middle" data-v-f45ea453></span><span class="bottom" data-v-f45ea453></span></span></button></div></div></div></div><div class="divider" data-v-e2087042><div class="divider-line" data-v-e2087042></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-3f1986f5 data-v-16619f0a><div class="container" data-v-16619f0a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-16619f0a><span class="vpi-align-left menu-icon" data-v-16619f0a></span><span class="menu-text" data-v-16619f0a>菜单</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-16619f0a data-v-e6cb9975><button data-v-e6cb9975>回到顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-3f1986f5 data-v-76ba3489><div class="curtain" data-v-76ba3489></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-76ba3489><span class="visually-hidden" id="sidebar-aria-label" data-v-76ba3489> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-76ba3489><section class="VPSidebarItem level-0 collapsible collapsed has-active" data-v-76ba3489 data-v-b63ebfe8><div class="item" role="button" tabindex="0" data-v-b63ebfe8><div class="indicator" data-v-b63ebfe8></div><h2 class="text" data-v-b63ebfe8>mysql</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b63ebfe8><span class="vpi-chevron-right caret-icon" data-v-b63ebfe8></span></div></div><div class="items" data-v-b63ebfe8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b63ebfe8 data-v-b63ebfe8><div class="item" data-v-b63ebfe8><div class="indicator" data-v-b63ebfe8></div><a class="VPLink link link" href="/blog/database/01.mysql/01.MySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%B8%E8%BD%BD" data-v-b63ebfe8><!--[--><p class="text" data-v-b63ebfe8>MySQL的安装与卸载</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b63ebfe8 data-v-b63ebfe8><div class="item" data-v-b63ebfe8><div class="indicator" data-v-b63ebfe8></div><a class="VPLink link link" href="/blog/database/01.mysql/02.MySQL%E7%9A%84%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4" data-v-b63ebfe8><!--[--><p class="text" data-v-b63ebfe8>MySQL的常见命令</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b63ebfe8 data-v-b63ebfe8><div class="item" data-v-b63ebfe8><div class="indicator" data-v-b63ebfe8></div><a class="VPLink link link" href="/blog/database/01.mysql/03.MySQL%E7%9A%84%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2&amp;%E7%BA%A6%E6%9D%9F" data-v-b63ebfe8><!--[--><p class="text" data-v-b63ebfe8>MySQL的多表查询&约束</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b63ebfe8 data-v-b63ebfe8><div class="item" data-v-b63ebfe8><div class="indicator" data-v-b63ebfe8></div><a class="VPLink link link" href="/blog/database/01.mysql/04.MySQL%E7%9A%84Sql%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B" data-v-b63ebfe8><!--[--><p class="text" data-v-b63ebfe8>MySQL的Sql执行流程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b63ebfe8 data-v-b63ebfe8><div class="item" data-v-b63ebfe8><div class="indicator" data-v-b63ebfe8></div><a class="VPLink link link" href="/blog/database/01.mysql/05.MySQL%E7%9A%84%E7%B4%A2%E5%BC%95" data-v-b63ebfe8><!--[--><p class="text" data-v-b63ebfe8>MySQL的索引</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b63ebfe8 data-v-b63ebfe8><div class="item" data-v-b63ebfe8><div class="indicator" data-v-b63ebfe8></div><a class="VPLink link link" href="/blog/database/01.mysql/06.MySQL%E4%BC%98%E5%8C%96%E5%88%86%E6%9E%90%E6%80%9D%E8%B7%AF" data-v-b63ebfe8><!--[--><p class="text" data-v-b63ebfe8>MySQL优化分析思路</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b63ebfe8 data-v-b63ebfe8><div class="item" data-v-b63ebfe8><div class="indicator" data-v-b63ebfe8></div><a class="VPLink link link" href="/blog/database/01.mysql/07.MySQL%E7%9A%84%E4%BC%98%E5%8C%96" data-v-b63ebfe8><!--[--><p class="text" data-v-b63ebfe8>MySQL的优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b63ebfe8 data-v-b63ebfe8><div class="item" data-v-b63ebfe8><div class="indicator" data-v-b63ebfe8></div><a class="VPLink link link" href="/blog/database/01.mysql/08.MySQL%E7%9A%84%E4%BA%8B%E5%8A%A1" data-v-b63ebfe8><!--[--><p class="text" data-v-b63ebfe8>MySQL的事务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b63ebfe8 data-v-b63ebfe8><div class="item" data-v-b63ebfe8><div class="indicator" data-v-b63ebfe8></div><a class="VPLink link link" href="/blog/database/01.mysql/09.MySQL%E7%9A%84%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6" data-v-b63ebfe8><!--[--><p class="text" data-v-b63ebfe8>MySQL的主从复制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b63ebfe8 data-v-b63ebfe8><div class="item" data-v-b63ebfe8><div class="indicator" data-v-b63ebfe8></div><a class="VPLink link link" href="/blog/database/01.mysql/10.MySQL%E7%9A%84%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8" data-v-b63ebfe8><!--[--><p class="text" data-v-b63ebfe8>MySQL的分库分表</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b63ebfe8 data-v-b63ebfe8><div class="item" data-v-b63ebfe8><div class="indicator" data-v-b63ebfe8></div><a class="VPLink link link" href="/blog/database/01.mysql/11.MySQL%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98" data-v-b63ebfe8><!--[--><p class="text" data-v-b63ebfe8>MySQL其他问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b63ebfe8 data-v-b63ebfe8><div class="item" data-v-b63ebfe8><div class="indicator" data-v-b63ebfe8></div><a class="VPLink link link" href="/blog/database/01.mysql/12.%20MVCC%E5%A4%9A%E7%89%88%E6%9C%AC%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6" data-v-b63ebfe8><!--[--><p class="text" data-v-b63ebfe8> MVCC多版本并发控制</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-3f1986f5 data-v-9af20d85><div class="VPDoc has-sidebar has-aside" data-v-9af20d85 data-v-ddd7bb5f><!--[--><!--]--><div class="container" data-v-ddd7bb5f><div class="aside" data-v-ddd7bb5f><div class="aside-curtain" data-v-ddd7bb5f></div><div class="aside-container" data-v-ddd7bb5f><div class="aside-content" data-v-ddd7bb5f><div class="VPDocAside" data-v-ddd7bb5f data-v-e04a33c6><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-e04a33c6 data-v-79317a03><div class="content" data-v-79317a03><div class="outline-marker" data-v-79317a03></div><div class="outline-title" role="heading" aria-level="2" data-v-79317a03>当前页</div><nav aria-labelledby="doc-outline-aria-label" data-v-79317a03><span class="visually-hidden" id="doc-outline-aria-label" data-v-79317a03> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-79317a03 data-v-baabfc09><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-e04a33c6></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-ddd7bb5f><div class="content-container" data-v-ddd7bb5f><!--[--><!--]--><main class="main" data-v-ddd7bb5f><div style="position:relative;" class="vp-doc _blog_database_01_mysql_06_MySQL%E4%BC%98%E5%8C%96%E5%88%86%E6%9E%90%E6%80%9D%E8%B7%AF external-link-icon-enabled" data-v-ddd7bb5f><div><h2 id="调优原则" tabindex="-1">调优原则 <a class="header-anchor" href="#调优原则" aria-label="Permalink to &quot;调优原则&quot;">​</a></h2><p>在性能优化时，我们必须遵循一定的原则，否则，有可能得不到正确的调优结果。主要有以下几个方面：</p><ul><li>对性能进行分析时，要多方面分析系统的资源瓶颈所在，因为系统某一方面性能低，也许并不是它自己造成的，而是其他方面造成的。如CPU利用率是100%时，很可能是内存容量太小，因为CPU忙于处理内存调度。</li><li>一次只对影响性能的某方面的一个参数进行调整，多个参数同时调整的话，很难界定性能的影响是由哪个参数造成的。</li><li>由于在进行系统性能分析时，性能分析工具本身会占用一定的系统资源，如CPU资源、内存资源等等。我们必须注意到这点，即分析工具本身运行可能会导致系统某方面的资源瓶颈情况更加严重。</li><li>必须保证调优后的程序运行正确。</li><li>调优过程是迭代渐进的过程，每一次调优的结果都要反馈到后续的代码开发中去。</li><li>性能调优不能以牺牲代码的可读性和可维护性为代价。</li></ul><h2 id="调优分析思路" tabindex="-1">调优分析思路 <a class="header-anchor" href="#调优分析思路" aria-label="Permalink to &quot;调优分析思路&quot;">​</a></h2><ol><li>很多情况下压测流量并没有完全进入到服务端，在网络上可能就会出现由于各种规格（带宽、最大连接数、新建连接数等）限制，导致压测结果达不到预期。</li><li>看关键指标是否满足要求，如果不满足，需要确定是哪个地方有问题，一般情况下，服务器端问题可能性比较大，也有可能是客户端问题（这种情况比较小）。</li><li>对于服务器端问题，需要定位的是硬件相关指标，例如CPU，Memory，Disk I/O，Network I/O，如果是某个硬件指标有问题，需要深入的进行分析。</li><li>如果硬件指标都没有问题，需要查看数据库相关指标，例如：等待事件、内存命中率等。</li><li>如果以上指标都正常，应用程序的算法、缓冲、缓存、同步或异步可能有问题，需要具体深入的分析。</li></ol><h3 id="可能的瓶颈点" tabindex="-1">可能的瓶颈点 <a class="header-anchor" href="#可能的瓶颈点" aria-label="Permalink to &quot;可能的瓶颈点&quot;">​</a></h3><table><thead><tr><th>瓶颈点</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td>硬件/规格</td><td style="text-align:center;">一般指的是CPU、内存、磁盘I/O方面的问题，分为服务器硬件瓶颈、网络瓶颈（对局域网可以不考虑）。</td></tr><tr><td>操作系统</td><td style="text-align:center;">一般指的是windows、UNIX、Linux等操作系统。<br>例如，在进行性能测试出现物理内存不足时，虚拟内存设置也不合理，虚拟内存的交换效率就会大大降低，<br>从而导致行为的响应时间大大增加，这时认为操作系统上出现性能瓶颈。</td></tr><tr><td>数据库</td><td style="text-align:center;">一般指的是数据库配置等方面的问题。<br>例如，由于参数配置不合理，导致数据库处理速度慢的问题，可认为是数据库层面的的问题。</td></tr></tbody></table><h2 id="mysql数据库优化" tabindex="-1">MySQL数据库优化 <a class="header-anchor" href="#mysql数据库优化" aria-label="Permalink to &quot;MySQL数据库优化&quot;">​</a></h2><p><img src="/blog/assets/e879846b712fff118c2cab4977afd37a_MD5.BZvZsCi_.png" alt=""></p><h3 id="连接——配置优化" tabindex="-1">连接——配置优化 <a class="header-anchor" href="#连接——配置优化" aria-label="Permalink to &quot;连接——配置优化&quot;">​</a></h3><p>客户端连接到服务端可能出现的问题： 服务端连接数不够导致应用程序获取不到连接</p><p>可以从两个方面来解决连接数不够的问题：</p><ol><li><p><strong>从服务端来说，我们可以增加服务端的可用连接数</strong>。</p><p>如果有多个应用或者很多请求同时访问数据库，连接数不够的时候，我们可以：</p><ul><li><p>修改配置参数增加可用连接数，修改 max_connections 的大小</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show variables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;max_connections&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 修改最大连接数，当有多个应用连接的时候</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>及时释放不活动的连接。交互式和非交互式的客户端的默认超时时 间都是 28800 秒，8 小时，我们可以把这个值调小</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">global</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> variables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;wait_timeout&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--及时释放不活动的连接，注意不要释放连接池还在使用的连接</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul></li><li><p><strong>从客户端来说，可以减少从服务端获取的连接数，如果我们想要不是每一次执行 SQL 都创建一个新的连接，可以引入连接池，实现连接的重用</strong>。</p></li></ol><h3 id="缓存——架构优化" tabindex="-1">缓存——架构优化 <a class="header-anchor" href="#缓存——架构优化" aria-label="Permalink to &quot;缓存——架构优化&quot;">​</a></h3><h4 id="缓存" tabindex="-1">缓存 <a class="header-anchor" href="#缓存" aria-label="Permalink to &quot;缓存&quot;">​</a></h4><p>在应用系统的并发数非常大的情况下，如果没有缓存，会造成两个问题：</p><ol><li>会给数据库带来很大的压力。</li><li>从应用的层面来说，操作数据的速度也会受到 影响。</li></ol><p><strong>解决方案</strong>：</p><p>用第三方的缓存服务来解决这个问题，例如 Redis。</p><h4 id="集群-主从复制" tabindex="-1">集群，主从复制 <a class="header-anchor" href="#集群-主从复制" aria-label="Permalink to &quot;集群，主从复制&quot;">​</a></h4><p>如果单台数据库服务满足不了访问需求，那我们可以做数据库的集群方案</p><p><img src="/blog/assets/4c1e2c36a038331e385a3bd244ccf66d_MD5.DI0zb0uc.png" alt=""></p><p>做了<strong>主从复制的方案之后，我们只把数据写入 master 节点，而读的请求可以分担到 slave 节点。我们把这种方案叫做读写分离</strong>。</p><p><strong>读写分离可以一定程度低减轻数据库服务器的访问压力，但是需要特别注意主从数 据一致性的问题。</strong></p><h4 id="分库分表" tabindex="-1">分库分表 <a class="header-anchor" href="#分库分表" aria-label="Permalink to &quot;分库分表&quot;">​</a></h4><p><strong>垂直分库，减少并发压力。水平分表，解决存储瓶颈</strong></p><p>垂直分库的做法，<strong>把一个数据库按照业务拆分成不同的数据库</strong>：</p><p>水平分库分表的做法，<strong>把单张表的数据按照一定的规则分布到多个数据库</strong>。</p><h3 id="优化器——sql-语句分析与优化" tabindex="-1">优化器——SQL 语句分析与优化 <a class="header-anchor" href="#优化器——sql-语句分析与优化" aria-label="Permalink to &quot;优化器——SQL 语句分析与优化&quot;">​</a></h3><h4 id="慢查询日志" tabindex="-1">慢查询日志 <a class="header-anchor" href="#慢查询日志" aria-label="Permalink to &quot;慢查询日志&quot;">​</a></h4><p><a href="https://dev.mysql.com/doc/refman/5.7/en/slow-query-log.html" target="_blank" rel="noreferrer">慢查询日志</a></p><h5 id="打开慢日志开关" tabindex="-1">打开慢日志开关 <a class="header-anchor" href="#打开慢日志开关" aria-label="Permalink to &quot;打开慢日志开关&quot;">​</a></h5><p>因为开启慢查询日志是有代价的（跟 bin log、optimizer-trace 一样），所以它默 认是关闭的：</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show variables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;slow_query%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>除了这个开关，还有一个参数，控制执行超过多长时间的 SQL 才记录到慢日志，默 认是 10 秒。如果改成 0 秒的话就是记录所有的 SQL。</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show variables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%long_query%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>可以直接动态修改参数（重启后失效）。</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @@</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">global</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">slow_query_log</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 1 开启，0 关闭，重启后失效</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @@</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">global</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">long_query_time</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- mysql 默认的慢查询时间是 10 秒，另开一个窗口后才会查到最新值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show variables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%long_query%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show variables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%slow_query%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>修改配置文件 my.cnf。</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slow_query_log</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ON</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">long_query_time</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slow_query_log_file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =/var/lib/mysql/localhost-slow.log</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="慢日志分析" tabindex="-1">慢日志分析 <a class="header-anchor" href="#慢日志分析" aria-label="Permalink to &quot;慢日志分析&quot;">​</a></h5><h5 id="直接查看日志内容" tabindex="-1">直接查看日志内容 <a class="header-anchor" href="#直接查看日志内容" aria-label="Permalink to &quot;直接查看日志内容&quot;">​</a></h5><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">global</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> status</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;slow_queries&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 查看有多少慢查询</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show variables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%slow_query%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 获取慢日志目录</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/mysql/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> localhost-slow.log</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="使用mysqldumpslow工具" tabindex="-1">使用mysqldumpslow工具 <a class="header-anchor" href="#使用mysqldumpslow工具" aria-label="Permalink to &quot;使用mysqldumpslow工具&quot;">​</a></h5><p><a href="https://dev.mysql.com/doc/refman/5.7/en/mysqldumpslow.html" target="_blank" rel="noreferrer">**mysqldumpslow-**汇总慢查询日志文件</a></p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#查询用时最多的 10 条慢 SQL</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mysqldumpslow</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> t</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;select&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/mysql/localhost-slow.log</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/blog/assets/20d0466eff667885672a8e995f9817a7_MD5.C1xch6L9.png" alt=""></p><p>Count 代表这个 SQL 执行了多少次；</p><p>Time 代表执行的时间，括号里面是累计时间；</p><p>Lock 表示锁定的时间，括号是累计；</p><p>Rows 表示返回的记录数，括号是累计。</p><h4 id="show-profile" tabindex="-1">SHOW PROFILE <a class="header-anchor" href="#show-profile" aria-label="Permalink to &quot;SHOW PROFILE&quot;">​</a></h4><p><a href="https://dev.mysql.com/doc/refman/5.7/en/show-profile.html" target="_blank" rel="noreferrer">SHOW PROFILE语句</a></p><h5 id="查看是否开启" tabindex="-1">查看是否开启 <a class="header-anchor" href="#查看是否开启" aria-label="Permalink to &quot;查看是否开启&quot;">​</a></h5><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#查看profiling状态</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @@profiling;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#设置开启</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @@profiling</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVUAAABXCAYAAAC0s9aRAAALy0lEQVR4nO3dT0wbZxoG8MfblTjiPZCeVmyNqSPSQ4QiGoGUqKJ2A0ihURc5uSTW0gAG1VgJrpbVhqihqlclrQxRYkwWyeWSRNaKkhV/apdDkIhaFNE9FFSDcYt6Sjmsc+Swmj3MDIyNTWL4Zmzg+Ukj2eNv7M9V9fDO+008JkmSJOzixYsXW49LS0sBACsrK5D+8KfdDitKpv/+gjfffLPQ0xBiZWUFr7/+eqGnkbfnz58f2Hkflv93SF+/K/QEiIgOE4bqDtNoN7VjOmNvYrAO7Zk7lf0mk2nXrW4wYcjMiajwiitUZ7twKbRW0CkkBj/FjwEfGvI4pjawCkmSIEkSVgO1O56/3DTaGb5Eh4I+oTrbheM9M+nPG+9gPdfYYyXydumf+OFG1fZzZbs5q8sss5jGgPct/L3bCiCBwbrtarPS+xQjjZoKtG4QagQ+9Vamjct8npv6GV8DbSK/RwxesxexrK8lEXRoX3vZWDPMZgeCSZHze4lkEA6vdkaZc95FzAuHoZMlSqdLqM5N/wgn/GlhiWc9eE8bltqQvTyBn37bzLqNXNZjhtklBj8FpkJoQAKDdVeAr6S0irNtavu5NN8Nq3Lc3itVK7rnJUhSCO8L/SZ2ePzLGMg7XNQQVbdqxH0ppFJRuC1CJ7g3ySAcOf8AKEMSy4ZNhyib3wt/x5/vILj8Z/xj6iN8cvsVjxlrxvGx3C878zkX34cB71OMwIQR1CKwOo+myTqY0ipNE0aUR21TEkLKvJ56K2Hyat8p/XltQN95b4l5YW4Ja3ZUw9wLAC5EUk2YdCTgib6nGW6GOjxsDqPGH8EF1MC/WJgQTQYdqI77kPLkGGBxI7ooBytSAdh3fF+V+r23uSIpBOyiZ0y0k+BKdQ1jXT1AcyPKsYaxxpIdp/Ly1oU57WFFUqmGJAmrgQCmpHl0WwFr9/x2ZZqxqYGaOSazUpUkCfPd1t0/WBR7AIv+GrgiKaRS8hZxAa5IANnyxB5IIbXoRw1ciKRSiLorjJlnDha3D67wAIK7tdUtbkRTyvexB7a+ZyqlfJcaF1wuPxa1+1MMVDKO0FBdD/0Fnz1Tn1Xg8lT2oPzpt7s4oz1wrDlH+JagbZcKVrTBOhMqvV40mkwwmdoxnRhEXdYVffnqgGwr/5k91a0t26UDOrC4h2EbkHugyaADk027B0rym3EsIIyWrb7pAnqrtS0AZXMEoX+n0g6PHxifjANIaFoR1ehdCKNFM58dfdNkEI7qOHzRAAIeoMOQ+RLtJDZUV9/CyIMPlWcHr1KV+5vqFpKvAGibyqhSV6G2SdOr1FUEamvR1laL2rY2tGVUq1JI/x5GzKsGkByM1b0LCLfIIeTN2oiMYWgcSqXqQ7xjCHHUwL+oVHhymSs/jrphREfA4o4i6rEBsMIdVSvNCFzaeaVSiG71J5Q+cAfg8y+jxRFE0uJGdBjoyBa+RDoTGqpnbmsr0INXqQIANNVp++QrHaCs4F8BvpqHrwpAlQ8+XJHfw5gCFYByOp/KvmWrVpPBAcDnQ5V8NAJRD2yogrWgi1IxeKt7saDdlUxgGQsY/yY9IOU/Ih3AsBz6dncUixfG0RFMKm2CFIbRkb2yJdKJrtepzvW8QqVafzdnlapun9TrOctt7SYTTFeAr9S+aROAkcaMU/lKqGtX0+1qmEqQlD6sSq1i3//ayNP/zNX7HKfKijVcgMeevie+kHWoQWLwmgdgi/hRo9071IuqyCIujA+lrfzLf0S0i2oxDPVWwadZZbO4oxmVLZG+dL74/zT+9n1mSE7AufX6DG4e68IcZnCz8Q7Wt1oGZzH2szLk5zu4lOsaV8FCGZdKAdj19L8htDNMM8ljXn763xAStaAlLzptVakRV86RdnfGKX1sEmFXU9ZFLSPEvC1AJIq09bKYFy3LfnjsFrh9QEtGHyPmNcMbSyLocCCYtCOQasKk5rramJdVKhmroP+iaq6nGXiQrWXwBJffANZDZ3Ep2ogHd4G/GhSsaazdmN8RhlZ0z4dy/osra/e8cav9WaUv6GxfcmRHYNe+aBLBgTBcTYVbJrcHMtoUySAcLUBEnbc9gAhaYFaCNRl0oAWRjNaGHYFUFG6LHLQJj9ICyN5UJhJO/HWqab7DZ2+X4LMd+z9EPYAztzeVQK1EBZrx3rGeHeNGfqsA8BEeTOk708PDhUhKcwlVzAtHApBPrVsQBoAaPxYzD0t+g/GqCKLFculRuAXmcMZ3gRy8Ea8ZZm8EqUAUKWW/tWoBLdVmpF2eWuPHokVpARg3czriTMJ/+m+2C5cS1/CgvQJzPWfxS5dcdW6bwc1j/0Z95mKVAfjTf4XHn/6jw058qBYxhmrhMVTpsCuuX6kiIjrgGKpERAIxVImIBMqrp/r8+XPdJ6S3w9IXW1lZKfQUiCiLPS1UERFRdjz9JyISiKFKRCQQQ5WISCCGKhGRQLr92/+1tTX8r/SPer097dNrL35FRUVhb59CdBixUiUiEoihSkQkEEOViEgghioRkUAM1V0lEG4oga2sBH3DQ3CWnUU4CQAz6CvrlO+zldTuJ6KjzvhQTQ7BWSYHlbo5hxPixgu0PtwKf9UE4hubuOUw5COJ6IAzNFTXh8/C9vZP6NrYRFyzda2egE2t/PYxXvh8V7/DyUrlflMWDx5tPIEr8yZPufYT0ZFkXKjOdsIx8QGiG/dwZrZTqTo70Xe9BN82biLav4Sr12f2Pp6IqAgYFqpzU6Nw9nhQnhyC8yJwf2MT8Y3zwNhpWN4Ayjt64Rx7vFV95jde7n32zc6gT9Mm6JtVPz3j9YYh5c6s6eO11e/c9RJcHQP+c0OpipNDcGarjtP2z6Cv7CzCw505WhXaz1PGbc2FiA4Dg0J1Bt+OteLdemA9+i+g/5py0z8rLKdOwGJRH+91vOzRxcd4V20TPGzFo4vpIbj1+rQH5ZhBX1kz4v1L262Fh8BVJSDPfLGJ+5eBk/1LiG/cy+Mmhd/Bv3pefr/vB4AbrZrFrWbgodrGGAUmRvfw35KIillBVv9tap8SCSSfIcvjvY13PtSEX/019J4axbezOV6ffYxHpwbweYd1e0CWY/J3Gr1d5+SHlkY0qMGvfF5rvTrOCldP634+iIiKkEGhaoXl1BKSymVHj6bkXuj68GPEtaFz+bymIs1nvEhye4GIaC8MC9V3mgH/3RmUd4yid7kZtrISfIxr+Lx5CVfLSmC7fRzRL87tcbxMDV9AuRzqmdxCyKr+PJzPfPhY2/Oc/RJ+fIB39FjJVz5vVNvnvc3Tf6LDRrdfqcpU3vEE96+XwNYwgOj0JlxbrzxBvGP/4wHAicewlTUrz1pxf9de6Dnc2phAX9kJ2G5Ac4wH5fl9tVd0Dre+H4Dz7RLYAACn0dvfCkzo8mFEVCC63aMq50//zXbCdjGjQjs1gOh0jjB7pfEJhBtOINmziVu5KtNiNNspV9y5vruO+NN/RPowrFLdUn8P8Y17+o0vWgmEG76EZVqtnmfQd3EUJ/uXDA9UItKP8aF6ZFnhunsczrISXFX2nOxfwiPt1QdEdOAZf/pPRYGn/0T64K9UEREJxFAlIhIor57q2tpaXm/+2otf8xpPRHTQ5RWq+fRI2bMrbtpeORGJw9N/IiKBGKpERAIxVImIBGKoEhEJtOdQtZWViJwHEdGhsK9KlcFazKbRbjKhbtCYO88SkWzfp/8M1mKTwGCdCSbT10BboedCdPQI6akyWIuJFd3zEiQphPcLPRWiI0jYQhWDlYhI8Oo/g5WIjjqhoRrf2BT5dkREB46wUGWgEhEJClUGKhGRbN+hykAlItq2r3tUMVCLW0NIQkOhJ0F0xOy5UmWgEhHtxB9UISISiKFKRCQQQ5WISCCGKhGRQHmt/ud7d1TeXI6IjhqTJEnSbgO0wVhaWqr7hIiIDjKe/hMRCcRQJSISiKFKRCQQQ5WISCCGKhGRQAxVIiKBGKpERAIxVImIBGKoEhEJxFAlIhKIoUpEJBBDlYhIIIYqEZFADFUiIoEYqkREAjFUiYgE+j94pOu/qXM3xQAAAABJRU5ErkJggg==" alt=""></p><h5 id="查看-profile-统计" tabindex="-1">查看 profile 统计 <a class="header-anchor" href="#查看-profile-统计" aria-label="Permalink to &quot;查看 profile 统计&quot;">​</a></h5><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show profiles;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/blog/assets/f4880f364b8960ce43453e0835ebe1ce_MD5.uttG_uWV.png" alt=""></p><h5 id="查询指定query-id详细信息" tabindex="-1">查询指定query_id详细信息 <a class="header-anchor" href="#查询指定query-id详细信息" aria-label="Permalink to &quot;查询指定query_id详细信息&quot;">​</a></h5><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#不指定id，默认查最后一条</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">profile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">profile</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> query </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="/blog/assets/9b3379e0ac8993cae1063ece691d4d61_MD5.s_At58mP.png" alt=""></p><h4 id="使用performance-schema" tabindex="-1">使用performance schema <a class="header-anchor" href="#使用performance-schema" aria-label="Permalink to &quot;使用performance schema&quot;">​</a></h4><p><a href="https://dev.mysql.com/doc/refman/5.6/en/performance-schema-system-variables.html" target="_blank" rel="noreferrer">performance schema</a></p><p><strong>MySQL的performance schema 用于监控MySQL server在一个较低级别的运行过程中的资源消耗、资源等待等情况</strong>。</p><h5 id="performance-schema" tabindex="-1">performance schema <a class="header-anchor" href="#performance-schema" aria-label="Permalink to &quot;performance schema&quot;">​</a></h5><p>在mysql的5.7版本中，性能模式是默认开启的，如果想要显式的关闭的话需要修改配置文件，不能直接进行修改，会报错Variable &#39;performance_schema&#39; is a read only variable。</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--查看performance_schema的属性</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SHOW VARIABLES </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LIKE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;performance_schema&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--------------------+-------+</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">| Variable_name      | </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--------------------+-------+</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">| performance_schema | </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--------------------+-------+</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> row</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">01</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sec)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--在配置文件中修改performance_schema的属性值，on表示开启，off表示关闭</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance_schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=ON</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--切换数据库</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> performance_schema;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--查看当前数据库下的所有表,会看到有很多表存储着相关的信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show tables;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--可以通过show create table tablename来查看创建表的时候的表结构</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> show </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">create</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> setup_consumers;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-----------------+---------------------------------</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">| </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">           | </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Create</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-----------------+---------------------------------</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">| setup_consumers | </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `setup_consumers`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  `NAME`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> varchar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NOT NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                      </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  `ENABLED`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> enum(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;YES&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;NO&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NOT NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">               </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) ENGINE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PERFORMANCE_SCHEMA </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DEFAULT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CHARSET</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">utf8 |  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-----------------+---------------------------------</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> row</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">00</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sec)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>​ instruments: 生产者，用于采集mysql中各种各样的操作产生的事件信息，对应配置表中的配置项我们可以称为监控采集配置项。</p><p>​ consumers:消费者，对应的消费者表用于存储来自instruments采集的数据，对应配置表中的配置项我们可以称为消费存储配置项。</p><h5 id="performance-schema表的分类" tabindex="-1">performance_schema表的分类 <a class="header-anchor" href="#performance-schema表的分类" aria-label="Permalink to &quot;performance_schema表的分类&quot;">​</a></h5><p>performance_schema库下的表可以按照监视不同的纬度就行分组。</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--语句事件记录表，这些表记录了语句事件信息，当前语句事件表events_statements_current、历史语句事件表events_statements_history和长语句历史事件表events_statements_history_long、以及聚合后的摘要表summary，其中，summary表还可以根据帐号(account)，主机(host)，程序(program)，线程(thread)，用户(user)和全局(global)再进行细分)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show tables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%statement%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--等待事件记录表，与语句事件类型的相关记录表类似：</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show tables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%wait%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--阶段事件记录表，记录语句执行的阶段事件的表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show tables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%stage%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--事务事件记录表，记录事务相关的事件的表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show tables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%transaction%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--监控文件系统层调用的表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show tables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%file%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--监视内存使用的表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show tables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%memory%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--动态对performance_schema进行配置的配置表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show tables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%setup%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h5 id="performance-schema的简单配置与使用" tabindex="-1">performance_schema的简单配置与使用 <a class="header-anchor" href="#performance-schema的简单配置与使用" aria-label="Permalink to &quot;performance_schema的简单配置与使用&quot;">​</a></h5><p>数据库刚刚初始化并启动时，并非所有instruments(事件采集项，在采集项的配置表中每一项都有一个开关字段，或为YES，或为NO)和consumers(与采集项类似，也有一个对应的事件类型保存表配置项，为YES就表示对应的表保存性能数据，为NO就表示对应的表不保存性能数据)都启用了，所以默认不会收集所有的事件，可能你需要检测的事件并没有打开，需要进行设置，可以使用如下两个语句打开对应的instruments和consumers（行计数可能会因MySQL版本而异)。</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--打开等待事件的采集器配置项开关，需要修改setup_instruments配置表中对应的采集器配置项</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">UPDATE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> setup_instruments </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SET</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ENABLED</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;YES&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, TIMED </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;YES&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;wait%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--打开等待事件的保存表配置开关，修改setup_consumers配置表中对应的配置项</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">UPDATE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> setup_consumers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SET</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ENABLED</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;YES&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%wait%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--当配置完成之后可以查看当前server正在做什么，可以通过查询events_waits_current表来得知，该表中每个线程只包含一行数据，用于显示每个线程的最新监视事件</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> events_waits_current\G</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">***************************</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">. </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">row</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ***************************</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            THREAD_ID: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">             EVENT_ID: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">570</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         END_EVENT_ID: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">570</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">           EVENT_NAME: wait</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">synch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mutex</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">innodb</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">buf_dblwr_mutex</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">               SOURCE: </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          TIMER_START: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4508505105239280</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            TIMER_END: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4508505105270160</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">           TIMER_WAIT: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30880</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                SPINS: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NULL</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        OBJECT_SCHEMA: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NULL</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          OBJECT_NAME: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NULL</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">           INDEX_NAME: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NULL</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          OBJECT_TYPE: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NULL</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OBJECT_INSTANCE_BEGIN: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">67918392</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     NESTING_EVENT_ID: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NULL</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   NESTING_EVENT_TYPE: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NULL</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            OPERATION: lock</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      NUMBER_OF_BYTES: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NULL</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                FLAGS: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NULL</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*该信息表示线程id为11的线程正在等待buf_dblwr_mutex锁，等待事件为30880</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">属性说明：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	id:事件来自哪个线程，事件编号是多少</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	event_name:表示检测到的具体的内容</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	source:表示这个检测代码在哪个源文件中以及行号</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	timer_start:表示该事件的开始时间</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	timer_end:表示该事件的结束时间</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	timer_wait:表示该事件总的花费时间</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">注意：_current表中每个线程只保留一条记录，一旦线程完成工作，该表中不会再记录该线程的事件信息</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">_history表中记录每个线程应该执行完成的事件信息，但每个线程的事件信息只会记录10条，再多就会被覆盖，*_history_long表中记录所有线程的事件信息，但总记录数量是10000，超过就会被覆盖掉</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> thread_id,event_id,event_name,timer_wait </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> events_waits_history </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">order by</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> thread_id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">limit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 21</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">summary表提供所有事件的汇总信息，该组中的表以不同的方式汇总事件数据（如：按用户，按主机，按线程等等）。例如：要查看哪些instruments占用最多的时间，可以通过对events_waits_summary_global_by_event_name表的COUNT_STAR或SUM_TIMER_WAIT列进行查询（这两列是对事件的记录数执行COUNT（*）、事件记录的TIMER_WAIT列执行SUM（TIMER_WAIT）统计而来）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EVENT_NAME,COUNT_STAR </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> events_waits_summary_global_by_event_name  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> COUNT_STAR </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DESC</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> LIMIT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">instance表记录了哪些类型的对象会被检测。这些对象在被server使用时，在该表中将会产生一条事件记录，例如，file_instances表列出了文件I/O操作及其关联文件名</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file_instances </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">limit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><h5 id="常用配置项的参数说明" tabindex="-1">常用配置项的参数说明 <a class="header-anchor" href="#常用配置项的参数说明" aria-label="Permalink to &quot;常用配置项的参数说明&quot;">​</a></h5><h6 id="启动选项" tabindex="-1">启动选项 <a class="header-anchor" href="#启动选项" aria-label="Permalink to &quot;启动选项&quot;">​</a></h6><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance_schema_consumer_events_statements_current</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TRUE</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">是否在mysql server启动时就开启events_statements_current表的记录功能(该表记录当前的语句事件信息)，启动之后也可以在setup_consumers表中使用UPDATE语句进行动态更新setup_consumers配置表中的events_statements_current配置项，默认值为TRUE</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance_schema_consumer_events_statements_history</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TRUE</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">与performance_schema_consumer_events_statements_current选项类似，但该选项是用于配置是否记录语句事件短历史信息，默认为TRUE</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance_schema_consumer_events_stages_history_long</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FALSE</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">与performance_schema_consumer_events_statements_current选项类似，但该选项是用于配置是否记录语句事件长历史信息，默认为FALSE</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">除了statement(语句)事件之外，还支持：wait(等待)事件、</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(阶段)事件、</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">transaction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(事务)事件，他们与statement事件一样都有三个启动项分别进行配置，但这些等待事件默认未启用，如果需要在MySQL Server启动时一同启动，</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">则通常需要写进my</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cnf配置文件中</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance_schema_consumer_global_instrumentation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TRUE</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">是否在MySQL Server启动时就开启全局表（如：mutex_instances、rwlock_instances、cond_instances、file_instances、users、hostsaccounts、socket_summary_by_event_name、file_summary_by_instance等大部分的全局对象计数统计和事件汇总统计信息表 ）的记录功能，启动之后也可以在setup_consumers表中使用UPDATE语句进行动态更新全局配置项</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">默认值为TRUE</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance_schema_consumer_statements_digest</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TRUE</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">是否在MySQL Server启动时就开启events_statements_summary_by_digest 表的记录功能，启动之后也可以在setup_consumers表中使用UPDATE语句进行动态更新digest配置项</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">默认值为TRUE</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance_schema_consumer_thread_instrumentation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TRUE</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">是否在MySQL Server启动时就开启</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">events_xxx_summary_by_yyy_by_event_name表的记录功能，启动之后也可以在setup_consumers表中使用UPDATE语句进行动态更新线程配置项</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">默认值为TRUE</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance_schema_instrument[=name]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">是否在MySQL Server启动时就启用某些采集器，由于instruments配置项多达数千个，所以该配置项支持key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value模式，还支持%号进行通配等，如下:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># [=name]可以指定为具体的Instruments名称（但是这样如果有多个需要指定的时候，就需要使用该选项多次），也可以使用通配符，可以指定instruments相同的前缀</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">通配符，也可以使用%代表所有的instruments</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">## 指定开启单个instruments</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--performance-schema-instrument= &#39;instrument_name=value&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">## 使用通配符指定开启多个instruments</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--performance-schema-instrument= &#39;wait/synch/cond/%=COUNTED&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">## 开关所有的instruments</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--performance-schema-instrument= &#39;%=ON&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--performance-schema-instrument= &#39;%=OFF&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">注意，这些启动选项要生效的前提是，需要设置performance_schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">。另外，这些启动选项虽然无法使用show variables语句查看，但我们可以通过setup_instruments和setup_consumers表查询这些选项指定的值。</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h6 id="系统变量" tabindex="-1">系统变量 <a class="header-anchor" href="#系统变量" aria-label="Permalink to &quot;系统变量&quot;">​</a></h6><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show variables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%performance_schema%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--重要的属性解释</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance_schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=ON</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">控制performance_schema功能的开关，要使用MySQL的performance_schema，需要在mysqld启动时启用，以启用事件收集功能</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">该参数在5.7.x之前支持performance_schema的版本中默认关闭，5.7.x版本开始默认开启</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">注意：如果mysqld在初始化performance_schema时发现无法分配任何相关的内部缓冲区，则performance_schema将自动禁用，并将performance_schema设置为OFF</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance_schema_digests_size</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10000</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">控制events_statements_summary_by_digest表中的最大行数。如果产生的语句摘要信息超过此最大值，便无法继续存入该表，此时performance_schema会增加状态变量</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance_schema_events_statements_history_long_size</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10000</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">控制events_statements_history_long表中的最大行数，该参数控制所有会话在events_statements_history_long表中能够存放的总事件记录数，超过这个限制之后，最早的记录将被覆盖</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">全局变量，只读变量，整型值，5.6.3版本引入 * 5.6.x版本中，5.6.5及其之前的版本默认为10000，5.6.6及其之后的版本默认值为-1，通常情况下，自动计算的值都是10000 * 5.7.x版本中，默认值为-1，通常情况下，自动计算的值都是10000</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance_schema_events_statements_history_size</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">控制events_statements_history表中单个线程（会话）的最大行数，该参数控制单个会话在events_statements_history表中能够存放的事件记录数，超过这个限制之后，单个会话最早的记录将被覆盖</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">全局变量，只读变量，整型值，5.6.3版本引入 * 5.6.x版本中，5.6.5及其之前的版本默认为10，5.6.6及其之后的版本默认值为-1，通常情况下，自动计算的值都是10 * 5.7.x版本中，默认值为-1，通常情况下，自动计算的值都是10</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">除了statement(语句)事件之外，wait(等待)事件、state(阶段)事件、transaction(事务)事件，他们与statement事件一样都有三个参数分别进行存储限制配置，有兴趣的同学自行研究，这里不再赘述</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance_schema_max_digest_length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">用于控制标准化形式的SQL语句文本在存入performance_schema时的限制长度，该变量与max_digest_length变量相关(max_digest_length变量含义请自行查阅相关资料)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">全局变量，只读变量，默认值1024字节，整型值，取值范围0~1048576</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance_schema_max_sql_text_length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">控制存入events_statements_current，events_statements_history和events_statements_history_long语句事件表中的SQL_TEXT列的最大SQL长度字节数。 超出系统变量performance_schema_max_sql_text_length的部分将被丢弃，不会记录，一般情况下不需要调整该参数，除非被截断的部分与其他SQL比起来有很大差异</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">全局变量，只读变量，整型值，默认值为1024字节，取值范围为0~1048576，5.7.6版本引入</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">降低系统变量performance_schema_max_sql_text_length值可以减少内存使用，但如果汇总的SQL中，被截断部分有较大差异，会导致没有办法再对这些有较大差异的SQL进行区分。 增加该系统变量值会增加内存使用，但对于汇总SQL来讲可以更精准地区分不同的部分。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h6 id="重要配置表的相关说明" tabindex="-1">重要配置表的相关说明 <a class="header-anchor" href="#重要配置表的相关说明" aria-label="Permalink to &quot;重要配置表的相关说明&quot;">​</a></h6><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">performance_timers表中记录了server中有哪些可用的事件计时器</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">字段解释：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	timer_name:表示可用计时器名称，CYCLE是基于CPU周期计数器的定时器</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	timer_frequency:表示每秒钟对应的计时器单位的数量,CYCLE计时器的换算值与CPU的频率相关、</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	timer_resolution:计时器精度值，表示在每个计时器被调用时额外增加的值</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	timer_overhead:表示在使用定时器获取事件时开销的最小周期值</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> performance_timers;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">setup_timers表中记录当前使用的事件计时器信息</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">字段解释：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	name:计时器类型，对应某个事件类别</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	timer_name:计时器类型名称</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> setup_timers;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">setup_consumers表中列出了consumers可配置列表项</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">字段解释：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	NAME：consumers配置名称</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	ENABLED：consumers是否启用，有效值为YES或NO，此列可以使用UPDATE语句修改。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> setup_consumers;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">setup_instruments 表列出了instruments 列表配置项，即代表了哪些事件支持被收集：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">字段解释：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	NAME：instruments名称，instruments名称可能具有多个部分并形成层次结构</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	ENABLED：instrumetns是否启用，有效值为YES或NO，此列可以使用UPDATE语句修改。如果设置为NO，则这个instruments不会被执行，不会产生任何的事件信息</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	TIMED：instruments是否收集时间信息，有效值为YES或NO，此列可以使用UPDATE语句修改，如果设置为NO，则这个instruments不会收集时间信息</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> setup_instruments;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">setup_actors表的初始内容是匹配任何用户和主机，因此对于所有前台线程，默认情况下启用监视和历史事件收集功能</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">字段解释：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	HOST：与grant语句类似的主机名，一个具体的字符串名字，或使用“％”表示“任何主机”</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	USER：一个具体的字符串名称，或使用“％”表示“任何用户”</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	ROLE：当前未使用，MySQL 8.0中才启用角色功能</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	ENABLED：是否启用与HOST，USER，ROLE匹配的前台线程的监控功能，有效值为：YES或NO</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	HISTORY：是否启用与HOST， USER，ROLE匹配的前台线程的历史事件记录功能，有效值为：YES或NO</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> setup_actors;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">setup_objects表控制performance_schema是否监视特定对象。默认情况下，此表的最大行数为100行。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">字段解释：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	OBJECT_TYPE：instruments类型，有效值为：“EVENT”（事件调度器事件）、“FUNCTION”（存储函数）、“PROCEDURE”（存储过程）、“TABLE”（基表）、“TRIGGER”（触发器），TABLE对象类型的配置会影响表I/O事件（wait/io/table/sql/handler instrument）和表锁事件（wait/lock/table/sql/handler instrument）的收集</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	OBJECT_SCHEMA：某个监视类型对象涵盖的数据库名称，一个字符串名称，或“％”(表示“任何数据库”)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	OBJECT_NAME：某个监视类型对象涵盖的表名，一个字符串名称，或“％”(表示“任何数据库内的对象”)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	ENABLED：是否开启对某个类型对象的监视功能，有效值为：YES或NO。此列可以修改</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	TIMED：是否开启对某个类型对象的时间收集功能，有效值为：YES或NO，此列可以修改</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> setup_objects;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">threads表对于每个server线程生成一行包含线程相关的信息，</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">字段解释：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	THREAD_ID：线程的唯一标识符（ID）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	NAME：与server中的线程检测代码相关联的名称(注意，这里不是instruments名称)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	TYPE：线程类型，有效值为：FOREGROUND、BACKGROUND。分别表示前台线程和后台线程</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	PROCESSLIST_ID：对应INFORMATION_SCHEMA.PROCESSLIST表中的ID列。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	PROCESSLIST_USER：与前台线程相关联的用户名，对于后台线程为NULL。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	PROCESSLIST_HOST：与前台线程关联的客户端的主机名，对于后台线程为NULL。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	PROCESSLIST_DB：线程的默认数据库，如果没有，则为NULL。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	PROCESSLIST_COMMAND：对于前台线程，该值代表着当前客户端正在执行的command类型，如果是sleep则表示当前会话处于空闲状态</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	PROCESSLIST_TIME：当前线程已处于当前线程状态的持续时间（秒）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	PROCESSLIST_STATE：表示线程正在做什么事情。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	PROCESSLIST_INFO：线程正在执行的语句，如果没有执行任何语句，则为NULL。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	PARENT_THREAD_ID：如果这个线程是一个子线程（由另一个线程生成），那么该字段显示其父线程ID</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	ROLE：暂未使用</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	INSTRUMENTED：线程执行的事件是否被检测。有效值：YES、NO </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	HISTORY：是否记录线程的历史事件。有效值：YES、NO * </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	THREAD_OS_ID：由操作系统层定义的线程或任务标识符（ID）：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> threads</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br></div></div><h5 id="performance-schema实践操作" tabindex="-1">performance_schema实践操作 <a class="header-anchor" href="#performance-schema实践操作" aria-label="Permalink to &quot;performance_schema实践操作&quot;">​</a></h5><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--1、哪类的SQL执行最多？</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DIGEST_TEXT,COUNT_STAR,FIRST_SEEN,LAST_SEEN </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> events_statements_summary_by_digest </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> COUNT_STAR </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DESC</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--2、哪类SQL的平均响应时间最多？</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DIGEST_TEXT,AVG_TIMER_WAIT </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> events_statements_summary_by_digest </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> COUNT_STAR </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DESC</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--3、哪类SQL排序记录数最多？</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DIGEST_TEXT,SUM_SORT_ROWS </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> events_statements_summary_by_digest </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> COUNT_STAR </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DESC</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--4、哪类SQL扫描记录数最多？</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DIGEST_TEXT,SUM_ROWS_EXAMINED </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> events_statements_summary_by_digest </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> COUNT_STAR </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DESC</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--5、哪类SQL使用临时表最多？</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DIGEST_TEXT,SUM_CREATED_TMP_TABLES,SUM_CREATED_TMP_DISK_TABLES </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> events_statements_summary_by_digest </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> COUNT_STAR </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DESC</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--6、哪类SQL返回结果集最多？</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DIGEST_TEXT,SUM_ROWS_SENT </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> events_statements_summary_by_digest </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> COUNT_STAR </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DESC</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--7、哪个表物理IO最多？</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file_name,event_name,SUM_NUMBER_OF_BYTES_READ,SUM_NUMBER_OF_BYTES_WRITE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file_summary_by_instance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SUM_NUMBER_OF_BYTES_READ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SUM_NUMBER_OF_BYTES_WRITE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DESC</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--8、哪个表逻辑IO最多？</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> object_name,COUNT_READ,COUNT_WRITE,COUNT_FETCH,SUM_TIMER_WAIT </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table_io_waits_summary_by_table </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sum_timer_wait </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DESC</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--9、哪个索引访问最多？</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OBJECT_NAME,INDEX_NAME,COUNT_FETCH,COUNT_INSERT,COUNT_UPDATE,COUNT_DELETE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table_io_waits_summary_by_index_usage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SUM_TIMER_WAIT </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DESC</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--10、哪个索引从来没有用过？</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OBJECT_SCHEMA,OBJECT_NAME,INDEX_NAME </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table_io_waits_summary_by_index_usage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> INDEX_NAME </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">IS NOT NULL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> COUNT_STAR </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OBJECT_SCHEMA </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;mysql&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OBJECT_SCHEMA,OBJECT_NAME;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--11、哪个等待事件消耗时间最多？</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EVENT_NAME,COUNT_STAR,SUM_TIMER_WAIT,AVG_TIMER_WAIT </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> events_waits_summary_global_by_event_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> event_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;idle&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SUM_TIMER_WAIT </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DESC</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--12-1、剖析某条SQL的执行情况，包括statement信息，stege信息，wait信息</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EVENT_ID,sql_text </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> events_statements_history </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sql_text </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LIKE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%count(*)%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--12-2、查看每个阶段的时间消耗</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> event_id,EVENT_NAME,SOURCE,TIMER_END </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TIMER_START </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> events_stages_history_long </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NESTING_EVENT_ID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1553</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--12-3、查看每个阶段的锁等待情况</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> event_id,event_name,source,timer_wait,object_name,index_name,operation,nesting_event_id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> events_waits_history_longWHERE nesting_event_id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1553</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h4 id="explain执行计划" tabindex="-1">explain执行计划 <a class="header-anchor" href="#explain执行计划" aria-label="Permalink to &quot;explain执行计划&quot;">​</a></h4><p><a href="https://dev.mysql.com/doc/refman/8.0/en/explain-output.html" target="_blank" rel="noreferrer">mysql执行计划</a></p><p>可以使用explain+SQL语句来模拟优化器执行SQL查询语句，从而知道mysql是如何处理sql语句的。</p><h5 id="执行计划中包含的信息" tabindex="-1">执行计划中包含的信息 <a class="header-anchor" href="#执行计划中包含的信息" aria-label="Permalink to &quot;执行计划中包含的信息&quot;">​</a></h5><table><thead><tr><th style="text-align:center;">列名</th><th style="text-align:center;">涵义</th></tr></thead><tbody><tr><td style="text-align:center;">id</td><td style="text-align:center;">The <code>SELECT</code> identifier</td></tr><tr><td style="text-align:center;">select_type</td><td style="text-align:center;">The <code>SELECT</code> type</td></tr><tr><td style="text-align:center;">table</td><td style="text-align:center;">The table for the output row</td></tr><tr><td style="text-align:center;">partitions</td><td style="text-align:center;">The matching partitions</td></tr><tr><td style="text-align:center;">type</td><td style="text-align:center;">The join type</td></tr><tr><td style="text-align:center;">possible_keys</td><td style="text-align:center;">The possible indexes to choose</td></tr><tr><td style="text-align:center;">key</td><td style="text-align:center;">The index actually chosen</td></tr><tr><td style="text-align:center;">key_len</td><td style="text-align:center;">The length of the chosen key</td></tr><tr><td style="text-align:center;">ref</td><td style="text-align:center;">The columns compared to the index</td></tr><tr><td style="text-align:center;">rows</td><td style="text-align:center;">Estimate of rows to be examined</td></tr><tr><td style="text-align:center;">filtered</td><td style="text-align:center;">Percentage of rows filtered by table condition</td></tr><tr><td style="text-align:center;">extra</td><td style="text-align:center;">Additional information</td></tr></tbody></table><p><strong>执行计划是</strong>：当执行SQL语句时，首先会分析、优化，形成执行计划，在按照执行计划执行。</p></div></div></main><footer class="VPDocFooter" data-v-ddd7bb5f data-v-2563503a><!--[--><!--]--><div class="edit-info" data-v-2563503a><div class="edit-link" data-v-2563503a><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/CNRF/blog/edit/master/docs/database/01.mysql/06.MySQL优化分析思路.md" target="_blank" rel="noreferrer" data-v-2563503a><!--[--><span class="vpi-square-pen edit-link-icon" data-v-2563503a></span> 在GitHub上编辑此页<!--]--></a></div><div class="last-updated" data-v-2563503a><p class="VPLastUpdated" data-v-2563503a data-v-aca6d403>最近更新时间: <time datetime="2025-10-13T12:11:41.000Z" data-v-aca6d403></time></p></div></div><nav class="prev-next" data-v-2563503a><div class="pager" data-v-2563503a><a class="VPLink link pager-link prev" href="/blog/database/01.mysql/05.MySQL%E7%9A%84%E7%B4%A2%E5%BC%95" data-v-2563503a><!--[--><span class="desc" data-v-2563503a>上一篇</span><span class="title" data-v-2563503a>MySQL的索引</span><!--]--></a></div><div class="pager" data-v-2563503a><a class="VPLink link pager-link next" href="/blog/database/01.mysql/07.MySQL%E7%9A%84%E4%BC%98%E5%8C%96" data-v-2563503a><!--[--><span class="desc" data-v-2563503a>下一篇</span><span class="title" data-v-2563503a>MySQL的优化</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-3f1986f5 data-v-12c295ad><div class="container" data-v-12c295ad><p class="message" data-v-12c295ad>Released under the MIT License.</p><p class="copyright" data-v-12c295ad>Copyright © 2023-present mark</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"algorithm_0.基础知识_01.时间复杂度和空间复杂度.md\":\"DbtrpgRm\",\"algorithm_0.基础知识_02.二进制位运算.md\":\"R2Y3AyCB\",\"algorithm_0.基础知识_03.前缀树.md\":\"Dhdu2b07\",\"algorithm_0000.索引.md\":\"BTlkpaKF\",\"algorithm_0001.冒泡排序.md\":\"BR_mKRCk\",\"algorithm_0002.选择排序.md\":\"BJqFThmH\",\"algorithm_0003.插入排序.md\":\"BAe4QcGS\",\"algorithm_0004.有序数组二分查找.md\":\"93YV0sCA\",\"algorithm_0005.异或运算交换.md\":\"CJAmO4X1\",\"algorithm_0006.异或运算查找唯一出现奇数次的数.md\":\"CNJrQXaQ\",\"algorithm_0007.int类型的数的二进制最右侧1的位置.md\":\"C3WpGtc7\",\"algorithm_0008.异或运算查找唯二出现奇数次的数.md\":\"B81RIRy6\",\"algorithm_0009.异或运算查找唯一出现k次的数.md\":\"CQlMW8KO\",\"algorithm_0010.单向链表和双线链表结构实现.md\":\"D5_5ltGB\",\"algorithm_0011.链表常规操作.md\":\"6HMwp8is\",\"algorithm_0012.链表实现栈和队列.md\":\"CoYk7_2e\",\"algorithm_0013.数组实现循环队列.md\":\"CoiBqQXE\",\"algorithm_0014.特殊的栈.md\":\"DWv0rMrP\",\"algorithm_0015.栈实现队列.md\":\"CHcLT5Vi\",\"algorithm_0016.队列实现栈.md\":\"Cdf1I4rx\",\"algorithm_0017.归并排序.md\":\"ByYaXiDA\",\"algorithm_0018.归并排序小和问题.md\":\"D3UJrlbk\",\"algorithm_0019.逆序对问题.md\":\"D-l-NQLk\",\"algorithm_0020.归并排序翻转对.md\":\"CNOVgRhu\",\"algorithm_0021.区间和的个数.md\":\"JSt2m6PP\",\"algorithm_0022.快速排序.md\":\"Da1pW4ib\",\"database_01.mysql_01.mysql的安装与卸载.md\":\"CtWKzd9N\",\"database_01.mysql_02.mysql的常见命令.md\":\"CQTdxinV\",\"database_01.mysql_03.mysql的多表查询_约束.md\":\"CsFXiuGB\",\"database_01.mysql_04.mysql的sql执行流程.md\":\"Ds9PmV-m\",\"database_01.mysql_05.mysql的索引.md\":\"lKfH7MI_\",\"database_01.mysql_06.mysql优化分析思路.md\":\"CVTNuxlH\",\"database_01.mysql_07.mysql的优化.md\":\"DwR8D-ur\",\"database_01.mysql_08.mysql的事务.md\":\"Bct6fD8b\",\"database_01.mysql_09.mysql的主从复制.md\":\"7yCrsI5l\",\"database_01.mysql_10.mysql的分库分表.md\":\"BnKFl1sr\",\"database_01.mysql_11.mysql其他问题.md\":\"H_6GuPE_\",\"database_01.mysql_12. mvcc多版本并发控制.md\":\"DQpUxHwA\",\"designpatterns_01.设计模式的分类.md\":\"BBhhuUWV\",\"designpatterns_02.单例模式.md\":\"CZt0671s\",\"designpatterns_03.原型模式.md\":\"CpbwgLtz\",\"designpatterns_04.工厂模式.md\":\"XHDifgnT\",\"designpatterns_05.建造者模式.md\":\"C2BGtOZt\",\"designpatterns_06.代理模式.md\":\"3EeV5Jlt\",\"designpatterns_07.桥接模式.md\":\"sSMZamKT\",\"designpatterns_08.装饰模式.md\":\"C_pkXSlK\",\"designpatterns_09.外观模式.md\":\"Sq7VzlDw\",\"designpatterns_10.享元模式.md\":\"1IjtjQgH\",\"designpatterns_11.组合模式.md\":\"BkXE9tk7\",\"designpatterns_12.模版方法模式.md\":\"BTUMlrps\",\"designpatterns_13.策略模式.md\":\"BJ_oNnNA\",\"designpatterns_14.命令模式.md\":\"DWlEybls\",\"designpatterns_15.责任链模式.md\":\"DH8RtElX\",\"designpatterns_16.观察者模式.md\":\"DPt0Q0te\",\"designpatterns_17.中介者模式.md\":\"OleyyU2l\",\"designpatterns_18.迭代器模式.md\":\"kU3LKeZ5\",\"designpatterns_19.访问者模式.md\":\"BCIK_J8a\",\"designpatterns_20.适配器模式.md\":\"CcTqG2h6\",\"designpatterns_21.状态模式.md\":\"N8BeDn43\",\"designpatterns_22.解释器模式.md\":\"DO5uW7Dr\",\"designpatterns_23.备忘录模式.md\":\"DHMYNuiN\",\"index.md\":\"Cm9JGEcS\",\"interview_面试.md\":\"CuaJbo4B\",\"java_01.java基础_01.基础知识.md\":\"CYgfS_s-\",\"java_01.java基础_02.基础类型.md\":\"B9fGVNHe\",\"java_01.java基础_03.基本运算符.md\":\"X_AgpVJj\",\"java_01.java基础_04.流程控制语句.md\":\"Cb8hQ5aB\",\"java_01.java基础_05.类和对象.md\":\"TeE1NvHq\",\"java_01.java基础_06.抽象类.md\":\"wAcn9XdI\",\"java_01.java基础_06.接口.md\":\"8HZLyDIF\",\"java_01.java基础_07.封装_继承和多态.md\":\"Bvt08iZ6\",\"java_01.java基础_08.final关键字.md\":\"C6Xg_-x3\",\"java_01.java基础_08.修饰符.md\":\"DK1YJIr3\",\"java_01.java基础_09.包装类.md\":\"DK-qmVKV\",\"java_01.java基础_10.集合和泛型.md\":\"Dz_CWpM0\",\"java_01.java基础_11.常见的数据结构.md\":\"BAufyNqb\",\"java_01.java基础_12.list接口.md\":\"oUaCO2Nf\",\"java_01.java基础_13.set集合.md\":\"CcUsivDk\",\"java_01.java基础_14.map集合.md\":\"DwbMeuRG\",\"java_01.java基础_15.异常处理机制.md\":\"xl5nW9-D\",\"java_01.java基础_16.多线程，线程间通信以及线程池.md\":\"CAVxp-Lx\",\"java_01.java基础_17.字节流和字符流.md\":\"kmcy2xre\",\"java_01.java基础_18.缓冲流、转换流、序列化流、打印流.md\":\"DLAHpC5h\",\"java_01.java基础_19.jvm类加载器.md\":\"CQQ_3C76\",\"java_01.java基础_20.反射.md\":\"BR_qW6xm\",\"java_01.java基础_99.8之后的新特新.md\":\"DJTT0usn\",\"java_02.多线程和高并发_01.理论基础.md\":\"BpLKXUq3\",\"java_02.多线程和高并发_02.线程基础.md\":\"zEjftAaF\",\"java_02.多线程和高并发_03.java中的锁.md\":\"D_2y8kCA\",\"java_02.多线程和高并发_04.synchronize关键字.md\":\"7m_vk1WF\",\"java_02.多线程和高并发_05.volatile关键字.md\":\"DV5DfIB_\",\"java_02.多线程和高并发_06.final关键字.md\":\"C__RJwAQ\",\"java_02.多线程和高并发_07.juc初解.md\":\"DQ1RDUey\",\"java_02.多线程和高并发_08.juc原子类，cas，unsafe.md\":\"C_Hfh_UD\",\"java_02.多线程和高并发_09.juc锁-核心类aqs.md\":\"CXKK5FX3\",\"java_02.多线程和高并发_10.juc锁-locksupport.md\":\"CGsOjdPk\",\"java_02.多线程和高并发_11.juc锁-reentrantlock详解.md\":\"Dotx9YFD\",\"java_02.多线程和高并发_12.juc锁-reentrantreadwritelock.md\":\"u6DRJXEu\",\"java_02.多线程和高并发_13.juc集合-concurrenthashmap.md\":\"D4v5sIJf\",\"java_02.多线程和高并发_14.juc集合-copyonwritearraylist.md\":\"yU6i-gD3\",\"java_02.多线程和高并发_15.juc集合-concurrentlinkedqueue.md\":\"B15BhKXy\",\"java_02.多线程和高并发_16.juc集合-blockingqueue.md\":\"DY43VDAf\",\"java_02.多线程和高并发_17.juc线程池-futuretask.md\":\"CgVyBuYc\",\"java_02.多线程和高并发_18.juc线程池-threadpoolexecutor.md\":\"DCIdGVXc\",\"java_02.多线程和高并发_19.juc线程池-scheduledthreadpoolexecutor.md\":\"BpdPGJ8q\",\"java_02.多线程和高并发_20.juc线程池-forkjoin框架.md\":\"ByNqu2Is\",\"java_02.多线程和高并发_21.juc工具类-countdownlatch.md\":\"CttX9pdD\",\"java_02.多线程和高并发_22.juc工具类-cyclicbarrier.md\":\"CzhAXorJ\",\"java_02.多线程和高并发_23.juc工具类-semaphore.md\":\"BxQpVK1S\",\"java_02.多线程和高并发_24.juc工具类-phaser.md\":\"pk2m334j\",\"java_02.多线程和高并发_25.juc工具类-exchanger.md\":\"DqTYVg44\",\"java_02.多线程和高并发_26.java 并发-threadlocal.md\":\"BMWsMkiM\",\"java_03.jdk集合源码_01.collection类关系图.md\":\"DSeVFScQ\",\"java_03.jdk集合源码_02.hashmap源码解析.md\":\"DGHujzNV\",\"java_03.jdk集合源码_03.arraylist源码解析.md\":\"C0vFLnsy\",\"java_04.jvm_01.jvm相关知识体系详解.md\":\"D1Lz7vgp\",\"java_05.spring_01.源码编译.md\":\"BKHxup9s\",\"java_05.spring_02.源码概览.md\":\"BemOoApF\",\"java_05.spring_30.beanfactory和factorybean.md\":\"CzXq85MK\",\"linux_01.corn_01.corn安装及使用.md\":\"fCQX-MkM\",\"linux_02.docker_01.docker安装.md\":\"Dsh9OPhc\",\"linux_02.docker_02.docker命令.md\":\"CVBNfGk3\",\"linux_02.docker_03.docker安装mysql.md\":\"DL8SEhAC\",\"linux_02.docker_04.docker安装redis.md\":\"Bmvac1yA\",\"linux_02.docker_05.docker安装minio.md\":\"aoBXbcXt\",\"linux_02.docker_06.docker安装nacos.md\":\"BALvkthP\",\"linux_02.docker_07.docker安装kafka.md\":\"CmG487d_\",\"linux_02.docker_08.docker安装mongodb.md\":\"CJZrVStT\",\"linux_02.docker_09.docker安装rocketmq.md\":\"C4REdzIi\",\"linux_ubuntu24固定ip.md\":\"DYh0U_E4\",\"linux_常见命令.md\":\"rSz1Cp6r\",\"nav.md\":\"DL0xy5wv\",\"vue_01.基础_01.mvvm模式.md\":\"DzObajhb\",\"vue_01.基础_02.vue常见指令.md\":\"DILZghp7\",\"vue_01.基础_03.v-bind增强.md\":\"Clhrk9Jk\",\"vue_01.基础_04.v-model在元素中使用.md\":\"XH3xqoGK\",\"vue_01.基础_05.监听器.md\":\"CnaaTUcZ\",\"vue_01.基础_06.vue的生命周期.md\":\"CaTm77FE\",\"vue_01.基础_07.脚手架使用及目录介绍.md\":\"DPHljvrR\",\"vue_01.基础_08.组件.md\":\"DX454RM5\",\"web_01.html_01.html标签-排序标签.md\":\"z7FKEhBs\",\"web_01.html_02.html标签-字体标签和超链接.md\":\"BGbmReA6\",\"web_01.html_03.图片标签.md\":\"DSR95Tkr\",\"web_02.css_01.css理论知识.md\":\"D6GI3mVS\",\"web_02.css_02.css基础.md\":\"C9TJ0EPa\",\"web_03.javascript_01.js基本语法.md\":\"DaxI55te\",\"web_03.javascript_02.数据类型_01.数据类型概述.md\":\"CqiBvw-g\",\"web_03.javascript_02.数据类型_02.null_ undefined 和布尔值.md\":\"RxaHpTo8\",\"web_03.javascript_02.数据类型_03.数值.md\":\"xUGzRaul\",\"web_03.javascript_02.数据类型_04.字符串.md\":\"Ba87py6P\",\"web_03.javascript_02.数据类型_05.对象.md\":\"BAAHoTx2\",\"web_03.javascript_02.数据类型_06.函数.md\":\"C9Tm4pO_\",\"web_03.javascript_02.数据类型_06.数组.md\":\"DWOwaUgK\",\"web_03.javascript_03.运算符_01.算术运算符.md\":\"C9H0zr-0\",\"web_03.javascript_03.运算符_02.比较运算符.md\":\"Bo7alr1h\",\"web_03.javascript_03.运算符_03.布尔运算符.md\":\"_CRW5P3B\",\"web_03.javascript_03.运算符_04.位运算.md\":\"K0sALSgF\",\"web_03.javascript_03.运算符_05.其他运算符及运算顺序.md\":\"DrABIH3k\",\"web_03.javascript_04.语法相关_01.数据类型转化.md\":\"Bw4mK0UY\",\"web_03.javascript_04.语法相关_02.错误处理机制.md\":\"BWV9BWVh\",\"web_03.javascript_04.语法相关_03.编程风格.md\":\"C5HiK2Zr\",\"web_03.javascript_04.语法相关_04.console对象与控制台.md\":\"CMY_-lb-\",\"web_03.javascript_05.常见对象操作_01.object对象.md\":\"qWoq-6Fk\",\"web_03.javascript_05.常见对象操作_02.属性描述对象.md\":\"DV_4Q28n\",\"web_03.javascript_05.常见对象操作_03.array对象.md\":\"C3rVVR5K\",\"web_03.javascript_05.常见对象操作_04.包装对象.md\":\"BC4kXN8z\",\"web_03.javascript_05.常见对象操作_05.boolean对象.md\":\"D1Y_0pE3\",\"web_03.javascript_05.常见对象操作_06.number对象.md\":\"D6PanqIM\",\"web_03.javascript_05.常见对象操作_07.string对象.md\":\"OITAsYPF\",\"web_03.javascript_05.常见对象操作_08.math对象.md\":\"DSIhPsvg\",\"web_03.javascript_05.常见对象操作_09.date对象.md\":\"3QiPJ6Lk\",\"web_03.javascript_05.常见对象操作_10.regexp对象.md\":\"6Hr2PzSR\",\"web_03.javascript_05.常见对象操作_11.json对象.md\":\"CHo4Q9Np\",\"web_03.javascript_06.面向对象编程_01.实例对象与new命令.md\":\"B8jahvXL\",\"web_03.javascript_06.面向对象编程_02.this关键字.md\":\"8R7cvFs4\",\"web_03.javascript_06.面向对象编程_03.对象的继承.md\":\"TrgC0qEE\",\"web_03.javascript_06.面向对象编程_04.object对象的相关方法.md\":\"B0jHMkc8\",\"web_03.javascript_07.异步操作_01.定时器.md\":\"Bzde9xRh\",\"web_03.javascript_07.异步操作_02.promise对象.md\":\"CQbVKJTd\",\"web_03.javascript_08.dom操作_01.概述.md\":\"Dsb38Fcc\",\"web_03.javascript_08.dom操作_02.node接口.md\":\"tjqyeeuZ\",\"web_03.javascript_08.dom操作_03.nodelist 接口.md\":\"DxXPGqKj\",\"web_03.javascript_08.dom操作_04.parentnode.md\":\"BHJ3t9_C\",\"web_03.javascript_08.dom操作_05.document节点.md\":\"Bty7y0No\",\"web_03.javascript_08.dom操作_06.element节点.md\":\"BErX9XJt\",\"web_03.javascript_08.dom操作_07.属性操作.md\":\"Cv0boua-\",\"web_03.javascript_08.dom操作_08.text节点.md\":\"DBfbN7DR\",\"web_03.javascript_08.dom操作_09.css操作.md\":\"VUSQxgNM\",\"web_03.javascript_08.dom操作_10.mutation observer api.md\":\"DJIHb7en\",\"web_03.javascript_09.杂项_01.鼠标事件区别.md\":\"ClWaWfsT\",\"web_04.es6_01.let和const.md\":\"BofRiIeH\",\"web_04.es6_02.变量的解构赋值.md\":\"OmuMiUGJ\",\"web_04.es6_03.字符串的扩展以及新增方法.md\":\"D2zDaEub\",\"web_04.es6_04.正则的扩展.md\":\"Cww_85Rd\",\"web_04.es6_05.数值的扩展.md\":\"D2PmMd6F\",\"web_04.es6_06.函数的扩展.md\":\"BylJ5jhe\",\"web_04.es6_07.数组的扩展.md\":\"CSnPprw7\",\"web_04.es6_08.对象的扩展及新增方法.md\":\"CiU2H6_t\",\"web_04.es6_09.运算符的扩展.md\":\"DiiQBv-h\",\"web_04.es6_10.symbol.md\":\"DBYox4rX\",\"web_04.es6_11.set和map.md\":\"Cyj_DyO7\",\"web_04.es6_12.proxy.md\":\"DhaKLf1j\",\"web_04.es6_13.reflect.md\":\"DMW_lNEN\",\"web_04.es6_14.promise对象.md\":\"Bg9zEkEe\",\"web_04.es6_15.iterator和for循环.md\":\"Brtur1mm\",\"web_04.es6_16. generator函数以及异步应用.md\":\"BKGd4Rtd\",\"web_04.es6_17. async函数.md\":\"BoojBDre\",\"web_04.es6_18.class基本语法以及继承.md\":\"D_fJ0vgE\",\"web_04.es6_19.module的语法以及加载实现.md\":\"CrpAB3Pf\",\"web_04.es6_20.异步遍历器.md\":\"y-PaTPjA\",\"web_04.es6_21.arraybuffer.md\":\"DmnJUp2u\",\"web_04.es6_22.装饰器.md\":\"DZs3AYNL\",\"windows_01.windows操作系统查看端口占用.md\":\"DT4pFitB\",\"windows_02.安装wsl2和子系统.md\":\"RrwAishV\",\"workflow_01.git_01.git基本操作.md\":\"CmUxalnC\",\"workflow_01.git_02.git常见命令.md\":\"B8KQmUBT\",\"workflow_01.git_03.github-page部署.md\":\"DJ_rOLT9\",\"workflow_01.git_04.修改提交信息.md\":\"Du7Xd8Hr\",\"workflow_01.git_05.统计用户提交信息.md\":\"ByOn8gQc\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"星的路\",\"description\":\"笔记\",\"base\":\"/blog/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"editLink\":{\"pattern\":\"https://github.com/CNRF/blog/edit/master/docs/:path\",\"text\":\"在GitHub上编辑此页\"},\"logo\":\"/logo.png\",\"lastUpdated\":{\"text\":\"最近更新时间\",\"formatOptions\":{\"dateStyle\":\"short\",\"timeStyle\":\"medium\"}},\"darkModeSwitchLabel\":\"主题\",\"sidebarMenuLabel\":\"菜单\",\"returnToTopLabel\":\"回到顶部\",\"langMenuLabel\":\"多语言\",\"externalLinkIcon\":true,\"outline\":{\"level\":\"deep\",\"label\":\"当前页\"},\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"nav\":[{\"text\":\"面试\",\"link\":\"/interview/面试\",\"activeMatch\":\"^/interview\"},{\"text\":\"后端\",\"items\":[{\"text\":\"java\",\"items\":[{\"text\":\"java基础\",\"link\":\"/java/01.java基础/01.基础知识\",\"activeMatch\":\"^/java/01.java基础\"},{\"text\":\"多线程和高并发\",\"link\":\"/java/02.多线程和高并发/01.理论基础\",\"activeMatch\":\"^/linux/05.spring\"},{\"text\":\"JDK集合源码\",\"link\":\"/java/03.JDK集合源码/01.Collection类关系图\",\"activeMatch\":\"^/linux/03.JDK集合源码\"},{\"text\":\"JVM\",\"link\":\"/java/04.JVM/01.JVM相关知识体系详解.md\",\"activeMatch\":\"^/linux/04.JVM\"},{\"text\":\"spring\",\"link\":\"/java/05.spring/01.源码编译\",\"activeMatch\":\"^/linux/05.spring\"}],\"activeMatch\":\"^/java\"}]},{\"text\":\"前端\",\"items\":[{\"text\":\"基础\",\"items\":[{\"text\":\"HTML\",\"link\":\"/web/01.html/01.HTML标签-排序标签\",\"activeMatch\":\"^/web/01.html\"},{\"text\":\"CSS\",\"link\":\"/web/02.css/01.CSS理论知识.md\",\"activeMatch\":\"^/web/02.css\"},{\"text\":\"JavaScript\",\"link\":\"/web/03.javascript/01.js基本语法.md\",\"activeMatch\":\"^/web/03.javascript\"},{\"text\":\"ES6\",\"link\":\"/web/04.ES6/01.let和const.md\",\"activeMatch\":\"^/web/04.ES6\"}],\"activeMatch\":\"^/web\"},{\"text\":\"vue\",\"items\":[{\"text\":\"基础\",\"link\":\"/vue/01.基础/01.MVVM模式.md\",\"activeMatch\":\"^/vue/01.MVVM模式\"}],\"activeMatch\":\"^/vue\"}],\"activeMatch\":\"^/(web|vue)\"},{\"text\":\"数据库\",\"items\":[{\"text\":\"MySQL\",\"link\":\"/database/01.mysql/01.MySQL的安装与卸载.md\",\"activeMatch\":\"^/database/01.mysql/01.MySQL的安装与卸载\"}],\"activeMatch\":\"^/database\"},{\"text\":\"算法\",\"link\":\"/algorithm/0001.冒泡排序\",\"activeMatch\":\"^/algorithm   /\"},{\"text\":\"系统相关\",\"items\":[{\"text\":\"windows\",\"link\":\"/windows/01.windows操作系统查看端口占用\",\"activeMatch\":\"^/windows\"},{\"text\":\"linux\",\"items\":[{\"text\":\"corn\",\"link\":\"/linux/01.corn/01.corn安装及使用\",\"activeMatch\":\"^/linux/01.corn\"},{\"text\":\"docker\",\"link\":\"/linux/02.docker/01.docker安装\",\"activeMatch\":\"^/linux/02.docker\"}],\"activeMatch\":\"^/linux\"}],\"activeMatch\":\"^/(linux|windows)\"},{\"text\":\"workflow\",\"items\":[{\"text\":\"git\",\"link\":\"/workflow/01.git/01.git基本操作\",\"activeMatch\":\"^/workflow/01.git\"}],\"activeMatch\":\"^/workflow\"},{\"text\":\"设计模式\",\"link\":\"/designPatterns/01.设计模式的分类\",\"activeMatch\":\"^/designPatterns/\"},{\"text\":\"实用网站\",\"link\":\"/nav\",\"activeMatch\":\"^/nav\"}],\"sidebar\":{\"/java/\":{\"base\":\"/java/\",\"items\":[{\"text\":[\"java基础\"],\"collapsed\":true,\"items\":[{\"text\":\"基础知识\",\"link\":\"01.java基础/01.基础知识\"},{\"text\":\"基础类型\",\"link\":\"01.java基础/02.基础类型\"},{\"text\":\"基本运算符\",\"link\":\"01.java基础/03.基本运算符\"},{\"text\":\"流程控制语句\",\"link\":\"01.java基础/04.流程控制语句\"},{\"text\":\"类和对象\",\"link\":\"01.java基础/05.类和对象\"},{\"text\":\"抽象类\",\"link\":\"01.java基础/06.抽象类\"},{\"text\":\"接口\",\"link\":\"01.java基础/06.接口\"},{\"text\":\"封装,继承和多态\",\"link\":\"01.java基础/07.封装,继承和多态\"},{\"text\":\"final关键字\",\"link\":\"01.java基础/08.final关键字\"},{\"text\":\"修饰符\",\"link\":\"01.java基础/08.修饰符\"},{\"text\":\"包装类\",\"link\":\"01.java基础/09.包装类\"},{\"text\":\"集合和泛型\",\"link\":\"01.java基础/10.集合和泛型\"},{\"text\":\"常见的数据结构\",\"link\":\"01.java基础/11.常见的数据结构\"},{\"text\":\"List接口\",\"link\":\"01.java基础/12.List接口\"},{\"text\":\"Set集合\",\"link\":\"01.java基础/13.Set集合\"},{\"text\":\"Map集合\",\"link\":\"01.java基础/14.Map集合\"},{\"text\":\"异常处理机制\",\"link\":\"01.java基础/15.异常处理机制\"},{\"text\":\"多线程，线程间通信以及线程池\",\"link\":\"01.java基础/16.多线程，线程间通信以及线程池\"},{\"text\":\"字节流和字符流\",\"link\":\"01.java基础/17.字节流和字符流\"},{\"text\":\"缓冲流、转换流、序列化流、打印流\",\"link\":\"01.java基础/18.缓冲流、转换流、序列化流、打印流\"},{\"text\":\"jvm类加载器\",\"link\":\"01.java基础/19.jvm类加载器\"},{\"text\":\"反射\",\"link\":\"01.java基础/20.反射\"},{\"text\":\"8之后的新特新\",\"link\":\"01.java基础/99.8之后的新特新\"}]},{\"text\":[\"多线程和高并发\"],\"collapsed\":true,\"items\":[{\"text\":\"理论基础\",\"link\":\"02.多线程和高并发/01.理论基础\"},{\"text\":\"线程基础\",\"link\":\"02.多线程和高并发/02.线程基础\"},{\"text\":\"java中的锁\",\"link\":\"02.多线程和高并发/03.java中的锁\"},{\"text\":\"synchronize关键字\",\"link\":\"02.多线程和高并发/04.synchronize关键字\"},{\"text\":\"volatile关键字\",\"link\":\"02.多线程和高并发/05.volatile关键字\"},{\"text\":\"final关键字\",\"link\":\"02.多线程和高并发/06.final关键字\"},{\"text\":\"JUC初解\",\"link\":\"02.多线程和高并发/07.JUC初解\"},{\"text\":\"JUC原子类，CAS，Unsafe\",\"link\":\"02.多线程和高并发/08.JUC原子类，CAS，Unsafe\"},{\"text\":\"JUC锁-核心类AQS\",\"link\":\"02.多线程和高并发/09.JUC锁-核心类AQS\"},{\"text\":\"JUC锁-LockSupport\",\"link\":\"02.多线程和高并发/10.JUC锁-LockSupport\"},{\"text\":\"JUC锁-ReentrantLock详解\",\"link\":\"02.多线程和高并发/11.JUC锁-ReentrantLock详解\"},{\"text\":\"JUC锁-ReentrantReadWriteLock\",\"link\":\"02.多线程和高并发/12.JUC锁-ReentrantReadWriteLock\"},{\"text\":\"JUC集合-ConcurrentHashMap\",\"link\":\"02.多线程和高并发/13.JUC集合-ConcurrentHashMap\"},{\"text\":\"JUC集合-CopyOnWriteArrayList\",\"link\":\"02.多线程和高并发/14.JUC集合-CopyOnWriteArrayList\"},{\"text\":\"JUC集合-ConcurrentLinkedQueue\",\"link\":\"02.多线程和高并发/15.JUC集合-ConcurrentLinkedQueue\"},{\"text\":\"JUC集合-BlockingQueue\",\"link\":\"02.多线程和高并发/16.JUC集合-BlockingQueue\"},{\"text\":\"JUC线程池-FutureTask\",\"link\":\"02.多线程和高并发/17.JUC线程池-FutureTask\"},{\"text\":\"JUC线程池-ThreadPoolExecutor\",\"link\":\"02.多线程和高并发/18.JUC线程池-ThreadPoolExecutor\"},{\"text\":\"JUC线程池-ScheduledThreadPoolExecutor\",\"link\":\"02.多线程和高并发/19.JUC线程池-ScheduledThreadPoolExecutor\"},{\"text\":\"JUC线程池-ForkJoin框架\",\"link\":\"02.多线程和高并发/20.JUC线程池-ForkJoin框架\"},{\"text\":\"JUC工具类-CountDownLatch\",\"link\":\"02.多线程和高并发/21.JUC工具类-CountDownLatch\"},{\"text\":\"JUC工具类-CyclicBarrier\",\"link\":\"02.多线程和高并发/22.JUC工具类-CyclicBarrier\"},{\"text\":\"JUC工具类-Semaphore\",\"link\":\"02.多线程和高并发/23.JUC工具类-Semaphore\"},{\"text\":\"JUC工具类-Phaser\",\"link\":\"02.多线程和高并发/24.JUC工具类-Phaser\"},{\"text\":\"JUC工具类-Exchanger\",\"link\":\"02.多线程和高并发/25.JUC工具类-Exchanger\"},{\"text\":\"Java 并发-ThreadLocal\",\"link\":\"02.多线程和高并发/26.Java 并发-ThreadLocal\"}]},{\"text\":[\"JDK集合源码\"],\"collapsed\":true,\"items\":[{\"text\":\"Collection类关系图\",\"link\":\"03.JDK集合源码/01.Collection类关系图\"},{\"text\":\"HashMap源码解析\",\"link\":\"03.JDK集合源码/02.HashMap源码解析\"},{\"text\":\"ArrayList源码解析\",\"link\":\"03.JDK集合源码/03.ArrayList源码解析\"}]},{\"text\":[\"JVM\"],\"collapsed\":true,\"items\":[{\"text\":\"JVM相关知识体系详解\",\"link\":\"04.JVM/01.JVM相关知识体系详解\"}]},{\"text\":[\"spring\"],\"collapsed\":true,\"items\":[{\"text\":\"源码编译\",\"link\":\"05.spring/01.源码编译\"},{\"text\":\"源码概览\",\"link\":\"05.spring/02.源码概览\"},{\"text\":\"BeanFactory和FactoryBean\",\"link\":\"05.spring/30.BeanFactory和FactoryBean\"}]}]},\"/interview/\":{\"base\":\"/interview/\",\"items\":[{\"text\":\"面试\",\"link\":\"/面试\"}]},\"/linux/\":{\"base\":\"/linux/\",\"items\":[{\"text\":[\"corn\"],\"collapsed\":true,\"items\":[{\"text\":\"corn安装及使用\",\"link\":\"01.corn/01.corn安装及使用\"}]},{\"text\":[\"docker\"],\"collapsed\":true,\"items\":[{\"text\":\"docker安装\",\"link\":\"02.docker/01.docker安装\"},{\"text\":\"docker命令\",\"link\":\"02.docker/02.docker命令\"},{\"text\":\"docker安装mysql\",\"link\":\"02.docker/03.docker安装mysql\"},{\"text\":\"docker安装redis\",\"link\":\"02.docker/04.docker安装redis\"},{\"text\":\"docker安装minio\",\"link\":\"02.docker/05.docker安装minio\"},{\"text\":\"docker安装nacos\",\"link\":\"02.docker/06.docker安装nacos\"},{\"text\":\"docker安装kafka\",\"link\":\"02.docker/07.docker安装kafka\"},{\"text\":\"docker安装mongoDB\",\"link\":\"02.docker/08.docker安装mongoDB\"},{\"text\":\"docker安装rocketmq\",\"link\":\"02.docker/09.docker安装rocketmq\"}]},{\"text\":\"Ubuntu24固定ip\",\"link\":\"/Ubuntu24固定ip\"},{\"text\":\"常见命令\",\"link\":\"/常见命令\"}]},\"/windows/\":{\"base\":\"/windows/\",\"items\":[{\"text\":\"windows操作系统查看端口占用\",\"link\":\"/01.windows操作系统查看端口占用\"},{\"text\":\"安装wsl2和子系统\",\"link\":\"/02.安装wsl2和子系统\"}]},\"/workflow/\":{\"base\":\"/workflow/\",\"items\":[{\"text\":[\"git\"],\"collapsed\":true,\"items\":[{\"text\":\"git基本操作\",\"link\":\"01.git/01.git基本操作\"},{\"text\":\"git常见命令\",\"link\":\"01.git/02.git常见命令\"},{\"text\":\"github-page部署\",\"link\":\"01.git/03.github-page部署\"},{\"text\":\"修改提交信息\",\"link\":\"01.git/04.修改提交信息\"},{\"text\":\"统计用户提交信息\",\"link\":\"01.git/05.统计用户提交信息\"}]}]},\"/web/\":{\"base\":\"/web/\",\"items\":[{\"text\":[\"html\"],\"collapsed\":true,\"items\":[{\"text\":\"HTML标签-排序标签\",\"link\":\"01.html/01.HTML标签-排序标签\"},{\"text\":\"HTML标签-字体标签和超链接\",\"link\":\"01.html/02.HTML标签-字体标签和超链接\"},{\"text\":\"图片标签\",\"link\":\"01.html/03.图片标签\"}]},{\"text\":[\"css\"],\"collapsed\":true,\"items\":[{\"text\":\"CSS理论知识\",\"link\":\"02.css/01.CSS理论知识\"},{\"text\":\"CSS基础\",\"link\":\"02.css/02.CSS基础\"}]},{\"text\":[\"javascript\"],\"collapsed\":true,\"items\":[{\"text\":\"js基本语法\",\"link\":\"03.javascript/01.js基本语法\"},{\"text\":[\"数据类型\"],\"collapsed\":true,\"items\":[{\"text\":\"数据类型概述\",\"link\":\"03.javascript/02.数据类型/01.数据类型概述\"},{\"text\":\"null, undefined 和布尔值\",\"link\":\"03.javascript/02.数据类型/02.null, undefined 和布尔值\"},{\"text\":\"数值\",\"link\":\"03.javascript/02.数据类型/03.数值\"},{\"text\":\"字符串\",\"link\":\"03.javascript/02.数据类型/04.字符串\"},{\"text\":\"对象\",\"link\":\"03.javascript/02.数据类型/05.对象\"},{\"text\":\"函数\",\"link\":\"03.javascript/02.数据类型/06.函数\"},{\"text\":\"数组\",\"link\":\"03.javascript/02.数据类型/06.数组\"}]},{\"text\":[\"运算符\"],\"collapsed\":true,\"items\":[{\"text\":\"算术运算符\",\"link\":\"03.javascript/03.运算符/01.算术运算符\"},{\"text\":\"比较运算符\",\"link\":\"03.javascript/03.运算符/02.比较运算符\"},{\"text\":\"布尔运算符\",\"link\":\"03.javascript/03.运算符/03.布尔运算符\"},{\"text\":\"位运算\",\"link\":\"03.javascript/03.运算符/04.位运算\"},{\"text\":\"其他运算符及运算顺序\",\"link\":\"03.javascript/03.运算符/05.其他运算符及运算顺序\"}]},{\"text\":[\"语法相关\"],\"collapsed\":true,\"items\":[{\"text\":\"数据类型转化\",\"link\":\"03.javascript/04.语法相关/01.数据类型转化\"},{\"text\":\"错误处理机制\",\"link\":\"03.javascript/04.语法相关/02.错误处理机制\"},{\"text\":\"编程风格\",\"link\":\"03.javascript/04.语法相关/03.编程风格\"},{\"text\":\"console对象与控制台\",\"link\":\"03.javascript/04.语法相关/04.console对象与控制台\"}]},{\"text\":[\"常见对象操作\"],\"collapsed\":true,\"items\":[{\"text\":\"Object对象\",\"link\":\"03.javascript/05.常见对象操作/01.Object对象\"},{\"text\":\"属性描述对象\",\"link\":\"03.javascript/05.常见对象操作/02.属性描述对象\"},{\"text\":\"Array对象\",\"link\":\"03.javascript/05.常见对象操作/03.Array对象\"},{\"text\":\"包装对象\",\"link\":\"03.javascript/05.常见对象操作/04.包装对象\"},{\"text\":\"Boolean对象\",\"link\":\"03.javascript/05.常见对象操作/05.Boolean对象\"},{\"text\":\"Number对象\",\"link\":\"03.javascript/05.常见对象操作/06.Number对象\"},{\"text\":\"String对象\",\"link\":\"03.javascript/05.常见对象操作/07.String对象\"},{\"text\":\"Math对象\",\"link\":\"03.javascript/05.常见对象操作/08.Math对象\"},{\"text\":\"Date对象\",\"link\":\"03.javascript/05.常见对象操作/09.Date对象\"},{\"text\":\"RegExp对象\",\"link\":\"03.javascript/05.常见对象操作/10.RegExp对象\"},{\"text\":\"JSON对象\",\"link\":\"03.javascript/05.常见对象操作/11.JSON对象\"}]},{\"text\":[\"面向对象编程\"],\"collapsed\":true,\"items\":[{\"text\":\"实例对象与new命令\",\"link\":\"03.javascript/06.面向对象编程/01.实例对象与new命令\"},{\"text\":\"this关键字\",\"link\":\"03.javascript/06.面向对象编程/02.this关键字\"},{\"text\":\"对象的继承\",\"link\":\"03.javascript/06.面向对象编程/03.对象的继承\"},{\"text\":\"Object对象的相关方法\",\"link\":\"03.javascript/06.面向对象编程/04.Object对象的相关方法\"}]},{\"text\":[\"异步操作\"],\"collapsed\":true,\"items\":[{\"text\":\"定时器\",\"link\":\"03.javascript/07.异步操作/01.定时器\"},{\"text\":\"Promise对象\",\"link\":\"03.javascript/07.异步操作/02.Promise对象\"}]},{\"text\":[\"DOM操作\"],\"collapsed\":true,\"items\":[{\"text\":\"概述\",\"link\":\"03.javascript/08.DOM操作/01.概述\"},{\"text\":\"node接口\",\"link\":\"03.javascript/08.DOM操作/02.node接口\"},{\"text\":\"NodeList 接口\",\"link\":\"03.javascript/08.DOM操作/03.NodeList 接口\"},{\"text\":\"parentnode\",\"link\":\"03.javascript/08.DOM操作/04.parentnode\"},{\"text\":\"document节点\",\"link\":\"03.javascript/08.DOM操作/05.document节点\"},{\"text\":\"element节点\",\"link\":\"03.javascript/08.DOM操作/06.element节点\"},{\"text\":\"属性操作\",\"link\":\"03.javascript/08.DOM操作/07.属性操作\"},{\"text\":\"text节点\",\"link\":\"03.javascript/08.DOM操作/08.text节点\"},{\"text\":\"css操作\",\"link\":\"03.javascript/08.DOM操作/09.css操作\"},{\"text\":\"mutation observer API\",\"link\":\"03.javascript/08.DOM操作/10.mutation observer API\"}]},{\"text\":[\"杂项\"],\"collapsed\":true,\"items\":[{\"text\":\"鼠标事件区别\",\"link\":\"03.javascript/09.杂项/01.鼠标事件区别\"}]}]},{\"text\":[\"ES6\"],\"collapsed\":true,\"items\":[{\"text\":\"let和const\",\"link\":\"04.ES6/01.let和const\"},{\"text\":\"变量的解构赋值\",\"link\":\"04.ES6/02.变量的解构赋值\"},{\"text\":\"字符串的扩展以及新增方法\",\"link\":\"04.ES6/03.字符串的扩展以及新增方法\"},{\"text\":\"正则的扩展\",\"link\":\"04.ES6/04.正则的扩展\"},{\"text\":\"数值的扩展\",\"link\":\"04.ES6/05.数值的扩展\"},{\"text\":\"函数的扩展\",\"link\":\"04.ES6/06.函数的扩展\"},{\"text\":\"数组的扩展\",\"link\":\"04.ES6/07.数组的扩展\"},{\"text\":\"对象的扩展及新增方法\",\"link\":\"04.ES6/08.对象的扩展及新增方法\"},{\"text\":\"运算符的扩展\",\"link\":\"04.ES6/09.运算符的扩展\"},{\"text\":\"Symbol\",\"link\":\"04.ES6/10.Symbol\"},{\"text\":\"Set和Map\",\"link\":\"04.ES6/11.Set和Map\"},{\"text\":\"Proxy\",\"link\":\"04.ES6/12.Proxy\"},{\"text\":\"Reflect\",\"link\":\"04.ES6/13.Reflect\"},{\"text\":\"Promise对象\",\"link\":\"04.ES6/14.Promise对象\"},{\"text\":\"Iterator和for循环\",\"link\":\"04.ES6/15.Iterator和for循环\"},{\"text\":\" Generator函数以及异步应用\",\"link\":\"04.ES6/16. Generator函数以及异步应用\"},{\"text\":\" async函数\",\"link\":\"04.ES6/17. async函数\"},{\"text\":\"Class基本语法以及继承\",\"link\":\"04.ES6/18.Class基本语法以及继承\"},{\"text\":\"Module的语法以及加载实现\",\"link\":\"04.ES6/19.Module的语法以及加载实现\"},{\"text\":\"异步遍历器\",\"link\":\"04.ES6/20.异步遍历器\"},{\"text\":\"ArrayBuffer\",\"link\":\"04.ES6/21.ArrayBuffer\"},{\"text\":\"装饰器\",\"link\":\"04.ES6/22.装饰器\"}]}]},\"/database/\":{\"base\":\"/database/\",\"items\":[{\"text\":[\"mysql\"],\"collapsed\":true,\"items\":[{\"text\":\"MySQL的安装与卸载\",\"link\":\"01.mysql/01.MySQL的安装与卸载\"},{\"text\":\"MySQL的常见命令\",\"link\":\"01.mysql/02.MySQL的常见命令\"},{\"text\":\"MySQL的多表查询&约束\",\"link\":\"01.mysql/03.MySQL的多表查询&约束\"},{\"text\":\"MySQL的Sql执行流程\",\"link\":\"01.mysql/04.MySQL的Sql执行流程\"},{\"text\":\"MySQL的索引\",\"link\":\"01.mysql/05.MySQL的索引\"},{\"text\":\"MySQL优化分析思路\",\"link\":\"01.mysql/06.MySQL优化分析思路\"},{\"text\":\"MySQL的优化\",\"link\":\"01.mysql/07.MySQL的优化\"},{\"text\":\"MySQL的事务\",\"link\":\"01.mysql/08.MySQL的事务\"},{\"text\":\"MySQL的主从复制\",\"link\":\"01.mysql/09.MySQL的主从复制\"},{\"text\":\"MySQL的分库分表\",\"link\":\"01.mysql/10.MySQL的分库分表\"},{\"text\":\"MySQL其他问题\",\"link\":\"01.mysql/11.MySQL其他问题\"},{\"text\":\" MVCC多版本并发控制\",\"link\":\"01.mysql/12. MVCC多版本并发控制\"}]}]},\"/vue/\":{\"base\":\"/vue/\",\"items\":[{\"text\":[\"基础\"],\"collapsed\":true,\"items\":[{\"text\":\"MVVM模式\",\"link\":\"01.基础/01.MVVM模式\"},{\"text\":\"Vue常见指令\",\"link\":\"01.基础/02.Vue常见指令\"},{\"text\":\"v-bind增强\",\"link\":\"01.基础/03.v-bind增强\"},{\"text\":\"v-model在元素中使用\",\"link\":\"01.基础/04.v-model在元素中使用\"},{\"text\":\"监听器\",\"link\":\"01.基础/05.监听器\"},{\"text\":\"Vue的生命周期\",\"link\":\"01.基础/06.Vue的生命周期\"},{\"text\":\"脚手架使用及目录介绍\",\"link\":\"01.基础/07.脚手架使用及目录介绍\"},{\"text\":\"组件\",\"link\":\"01.基础/08.组件\"}]}]},\"/designPatterns/\":{\"base\":\"/designPatterns/\",\"items\":[{\"text\":\"设计模式的分类\",\"link\":\"/01.设计模式的分类\"},{\"text\":\"单例模式\",\"link\":\"/02.单例模式\"},{\"text\":\"原型模式\",\"link\":\"/03.原型模式\"},{\"text\":\"工厂模式\",\"link\":\"/04.工厂模式\"},{\"text\":\"建造者模式\",\"link\":\"/05.建造者模式\"},{\"text\":\"代理模式\",\"link\":\"/06.代理模式\"},{\"text\":\"桥接模式\",\"link\":\"/07.桥接模式\"},{\"text\":\"装饰模式\",\"link\":\"/08.装饰模式\"},{\"text\":\"外观模式\",\"link\":\"/09.外观模式\"},{\"text\":\"享元模式\",\"link\":\"/10.享元模式\"},{\"text\":\"组合模式\",\"link\":\"/11.组合模式\"},{\"text\":\"模版方法模式\",\"link\":\"/12.模版方法模式\"},{\"text\":\"策略模式\",\"link\":\"/13.策略模式\"},{\"text\":\"命令模式\",\"link\":\"/14.命令模式\"},{\"text\":\"责任链模式\",\"link\":\"/15.责任链模式\"},{\"text\":\"观察者模式\",\"link\":\"/16.观察者模式\"},{\"text\":\"中介者模式\",\"link\":\"/17.中介者模式\"},{\"text\":\"迭代器模式\",\"link\":\"/18.迭代器模式\"},{\"text\":\"访问者模式\",\"link\":\"/19.访问者模式\"},{\"text\":\"适配器模式\",\"link\":\"/20.适配器模式\"},{\"text\":\"状态模式\",\"link\":\"/21.状态模式\"},{\"text\":\"解释器模式\",\"link\":\"/22.解释器模式\"},{\"text\":\"备忘录模式\",\"link\":\"/23.备忘录模式\"}]},\"/algorithm/\":{\"base\":\"/algorithm/\",\"items\":[{\"text\":[\"基础知识\"],\"collapsed\":true,\"items\":[{\"text\":\"时间复杂度和空间复杂度\",\"link\":\"0.基础知识/01.时间复杂度和空间复杂度\"},{\"text\":\"二进制位运算\",\"link\":\"0.基础知识/02.二进制位运算\"},{\"text\":\"前缀树\",\"link\":\"0.基础知识/03.前缀树\"}]},{\"text\":\"索引\",\"link\":\"/0000.索引\"},{\"text\":\"冒泡排序\",\"link\":\"/0001.冒泡排序\"},{\"text\":\"选择排序\",\"link\":\"/0002.选择排序\"},{\"text\":\"插入排序\",\"link\":\"/0003.插入排序\"},{\"text\":\"有序数组二分查找\",\"link\":\"/0004.有序数组二分查找\"},{\"text\":\"异或运算交换\",\"link\":\"/0005.异或运算交换\"},{\"text\":\"异或运算查找唯一出现奇数次的数\",\"link\":\"/0006.异或运算查找唯一出现奇数次的数\"},{\"text\":\"int类型的数的二进制最右侧1的位置\",\"link\":\"/0007.int类型的数的二进制最右侧1的位置\"},{\"text\":\"异或运算查找唯二出现奇数次的数\",\"link\":\"/0008.异或运算查找唯二出现奇数次的数\"},{\"text\":\"异或运算查找唯一出现k次的数\",\"link\":\"/0009.异或运算查找唯一出现k次的数\"},{\"text\":\"单向链表和双线链表结构实现\",\"link\":\"/0010.单向链表和双线链表结构实现\"},{\"text\":\"链表常规操作\",\"link\":\"/0011.链表常规操作\"},{\"text\":\"链表实现栈和队列\",\"link\":\"/0012.链表实现栈和队列\"},{\"text\":\"数组实现循环队列\",\"link\":\"/0013.数组实现循环队列\"},{\"text\":\"特殊的栈\",\"link\":\"/0014.特殊的栈\"},{\"text\":\"栈实现队列\",\"link\":\"/0015.栈实现队列\"},{\"text\":\"队列实现栈\",\"link\":\"/0016.队列实现栈\"},{\"text\":\"归并排序\",\"link\":\"/0017.归并排序\"},{\"text\":\"归并排序小和问题\",\"link\":\"/0018.归并排序小和问题\"},{\"text\":\"逆序对问题\",\"link\":\"/0019.逆序对问题\"},{\"text\":\"归并排序翻转对\",\"link\":\"/0020.归并排序翻转对\"},{\"text\":\"区间和的个数\",\"link\":\"/0021.区间和的个数\"},{\"text\":\"快速排序\",\"link\":\"/0022.快速排序\"}]}},\"search\":{\"provider\":\"local\",\"options\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\"}}}}},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/CNRF\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2023-present mark\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>